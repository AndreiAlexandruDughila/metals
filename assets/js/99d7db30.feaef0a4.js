(self.webpackChunk=self.webpackChunk||[]).push([[382],{3905:(e,t,a)=>{"use strict";a.d(t,{Zo:()=>m,kt:()=>d});var l=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,l,n=function(e,t){if(null==e)return{};var a,l,n={},r=Object.keys(e);for(l=0;l<r.length;l++)a=r[l],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)a=r[l],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=l.createContext({}),c=function(e){var t=l.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},m=function(e){var t=c(e.components);return l.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return l.createElement(l.Fragment,{},t)}},u=l.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,s=e.parentName,m=i(e,["components","mdxType","originalType","parentName"]),u=c(a),d=n,h=u["".concat(s,".").concat(d)]||u[d]||p[d]||r;return a?l.createElement(h,o(o({ref:t},m),{},{components:a})):l.createElement(h,o({ref:t},m))}));function d(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,o=new Array(r);o[0]=u;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:n,o[1]=i;for(var c=2;c<r;c++)o[c]=a[c];return l.createElement.apply(null,o)}return l.createElement.apply(null,a)}u.displayName="MDXCreateElement"},8822:(e,t,a)=>{"use strict";a.r(t),a.d(t,{frontMatter:()=>i,metadata:()=>s,toc:()=>c,default:()=>p});var l=a(2122),n=a(9756),r=(a(7294),a(3905)),o=["components"],i={author:"\xd3lafur P\xe1ll Geirsson",title:"Metals v0.5.1 - Mercury",authorURL:"https://twitter.com/olafurpg",authorImageURL:"https://avatars2.githubusercontent.com/u/1408093?s=460&v=4"},s={permalink:"/metals/blog/2019/04/26/mercury",source:"@site/blog/2019-04-26-mercury.md",title:"Metals v0.5.1 - Mercury",description:"This release introduces minor improvements and bug fixes with highlights",date:"2019-04-26T00:00:00.000Z",formattedDate:"April 26, 2019",tags:[],readingTime:3.29,truncated:!1,prevItem:{title:"Metals v0.6.1 - Radium",permalink:"/metals/blog/2019/06/11/radium"},nextItem:{title:"Metals v0.5.0 - Mercury",permalink:"/metals/blog/2019/04/12/mercury"}},c=[{value:"Automatic imports are placed globally instead of locally",id:"automatic-imports-are-placed-globally-instead-of-locally",children:[]},{value:"Document symbols now shows inner methods and anonymous classes",id:"document-symbols-now-shows-inner-methods-and-anonymous-classes",children:[]},{value:"Diagnostics gracefully handle deleted files",id:"diagnostics-gracefully-handle-deleted-files",children:[]},{value:"Fuzzy symbol search gracefully handles deleted files",id:"fuzzy-symbol-search-gracefully-handles-deleted-files",children:[]},{value:"Find all references handles synthetic <code>update</code> calls",id:"find-all-references-handles-synthetic-update-calls",children:[]},{value:"The recommended Vim client is now coc.nvim",id:"the-recommended-vim-client-is-now-cocnvim",children:[]},{value:"Deprecate older Scala versions",id:"deprecate-older-scala-versions",children:[]},{value:"Contributors",id:"contributors",children:[]},{value:"Merged PRs",id:"merged-prs",children:[]}],m={toc:c};function p(e){var t=e.components,a=(0,n.Z)(e,o);return(0,r.kt)("wrapper",(0,l.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"This release introduces minor improvements and bug fixes with highlights\nincluding:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"auto-imports are inserted at the toplevel instead of locally"),(0,r.kt)("li",{parentName:"ul"},"document symbol lists inner methods and anonymous classes"),(0,r.kt)("li",{parentName:"ul"},"the recommended Vim client is now coc.nvim"),(0,r.kt)("li",{parentName:"ul"},"diagnostics are cleared for deleted files"),(0,r.kt)("li",{parentName:"ul"},"fuzzy symbol search no longer returns results for deleted files"),(0,r.kt)("li",{parentName:"ul"},"find all references now handles synthetic ",(0,r.kt)("inlineCode",{parentName:"li"},"update")," calls"),(0,r.kt)("li",{parentName:"ul"},"deprecate older Scala versions")),(0,r.kt)("p",null,"Metals is a language server for Scala that works with VS Code, Atom, Vim,\nSublime Text and Emacs. Metals is developed at the\n",(0,r.kt)("a",{parentName:"p",href:"https://scala.epfl.ch/"},"Scala Center")," along with contributors from the\ncommunity."),(0,r.kt)("p",null,"In this release we merged 15 PRs and closed 7 issues, full details:\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/scalameta/metals/milestone/8?closed=1"},"https://github.com/scalameta/metals/milestone/8?closed=1"),"."),(0,r.kt)("h2",{id:"automatic-imports-are-placed-globally-instead-of-locally"},"Automatic imports are placed globally instead of locally"),(0,r.kt)("p",null,"Previously, auto-imports were placed locally like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scala"},"object Main {\n  import scala.concurrent.Future // <- automatically added by Metals\n  val future = Future@@\n}\n")),(0,r.kt)("p",null,"Now, the import is inserted at the toplevel instead"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scala"},"import scala.concurrent.Future // <- automatically added by Metals\n\nobject Main {\n  val future = Future@@\n}\n")),(0,r.kt)("h2",{id:"document-symbols-now-shows-inner-methods-and-anonymous-classes"},"Document symbols now shows inner methods and anonymous classes"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Before"),":"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/691940/56455884-dc92d300-6364-11e9-837e-c8aedd13e78d.png",alt:"image"})),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"After"),":"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/691940/56455880-cab13000-6364-11e9-910a-4b55854df147.png",alt:"image"})),(0,r.kt)("h2",{id:"diagnostics-gracefully-handle-deleted-files"},"Diagnostics gracefully handle deleted files"),(0,r.kt)("p",null,"Previously, deleting a file with compile errors would result in the stale\ndiagnostics to stay until you restarted the Metals server. Now, diagnostics are\ncleared when a source file is deleted."),(0,r.kt)("h2",{id:"fuzzy-symbol-search-gracefully-handles-deleted-files"},"Fuzzy symbol search gracefully handles deleted files"),(0,r.kt)("p",null,"Previously, fuzzy searching for a symbol could return results from deleted\nfiles. Now, fuzzy symbol search only shows results from files that exist on\ndisk."),(0,r.kt)("h2",{id:"find-all-references-handles-synthetic-update-calls"},"Find all references handles synthetic ",(0,r.kt)("inlineCode",{parentName:"h2"},"update")," calls"),(0,r.kt)("p",null,"Previously, find all references did not catch references where an ",(0,r.kt)("inlineCode",{parentName:"p"},"update()"),"\nmethod call was synthesized."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scala"},'val cache = mutable.Map.empty[String, String]\ncache("a") = "b" // before: referenced `Map.update()` instead of `cache`\n')),(0,r.kt)("p",null,"Now, the reference to ",(0,r.kt)("inlineCode",{parentName:"p"},"cache")," in ",(0,r.kt)("inlineCode",{parentName:"p"},'cache("a") = "b"')," is indexed as well as the\nsynthetic call to the ",(0,r.kt)("inlineCode",{parentName:"p"},"Map.update()")," method."),(0,r.kt)("h2",{id:"the-recommended-vim-client-is-now-cocnvim"},"The recommended Vim client is now coc.nvim"),(0,r.kt)("p",null,"Previously, the\n",(0,r.kt)("a",{parentName:"p",href:"https://scalameta.org/metals/docs/editors/vim.html"},"vim installation instructions"),"\nrecommended the vim-lsc client. Now, the installation instructions recommend\ncoc.vim since it supports more functionality of the Language Server Protocol. If\nyou use Vim, we recommend trying out coc.vim to enjoy more advanced features\nlike completions with auto-imports."),(0,r.kt)("h2",{id:"deprecate-older-scala-versions"},"Deprecate older Scala versions"),(0,r.kt)("p",null,"Metals works with Scala 2.11 and Scala 2.12. Starting from the next release,\nMetals will drop support for the older patch versions of those series, and it\nwill exclusively support these version:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"2.11.12"),(0,r.kt)("li",{parentName:"ul"},"2.12.7"),(0,r.kt)("li",{parentName:"ul"},"2.12.8")),(0,r.kt)("p",null,"Starting from this release, we will show a warning at startup if you're using an\noutdated Scala version, prompting you to upgrade your project to the latest\nversion."),(0,r.kt)("h2",{id:"contributors"},"Contributors"),(0,r.kt)("p",null,"Big thanks to everybody who contributed to this release!"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"$ git shortlog -sn --no-merges v0.5.0..v0.5.1\n\xd3lafur P\xe1ll Geirsson\nGabriele Petronella\nGabriel Volpe\nJesusMtnez\nEric Peters\nArnout Engelen\nRobin Green\nTomasz Godzik\nDavid Strawn\n")),(0,r.kt)("h2",{id:"merged-prs"},"Merged PRs"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Upgrade to latest Scalameta.\n",(0,r.kt)("a",{parentName:"li",href:"https://github.com/scalameta/metals/pull/702"},"#","702"),"\n(",(0,r.kt)("a",{parentName:"li",href:"https://github.com/olafurpg"},"olafurpg"),")"),(0,r.kt)("li",{parentName:"ul"},"Add question template ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/scalameta/metals/pull/701"},"#","701"),"\n(",(0,r.kt)("a",{parentName:"li",href:"https://github.com/gabro"},"gabro"),")"),(0,r.kt)("li",{parentName:"ul"},"Don't return workspace/symbol results for deleted files.\n",(0,r.kt)("a",{parentName:"li",href:"https://github.com/scalameta/metals/pull/695"},"#","695"),"\n(",(0,r.kt)("a",{parentName:"li",href:"https://github.com/olafurpg"},"olafurpg"),")"),(0,r.kt)("li",{parentName:"ul"},"Insert global imports instead of local imports.\n",(0,r.kt)("a",{parentName:"li",href:"https://github.com/scalameta/metals/pull/692"},"#","692"),"\n(",(0,r.kt)("a",{parentName:"li",href:"https://github.com/olafurpg"},"olafurpg"),")"),(0,r.kt)("li",{parentName:"ul"},"Fix a dead link to Bloop site\n",(0,r.kt)("a",{parentName:"li",href:"https://github.com/scalameta/metals/pull/691"},"#","691"),"\n(",(0,r.kt)("a",{parentName:"li",href:"https://github.com/gabro"},"gabro"),")"),(0,r.kt)("li",{parentName:"ul"},"Update a couple .lines to .linesIterator for java11\n",(0,r.kt)("a",{parentName:"li",href:"https://github.com/scalameta/metals/pull/688"},"#","688"),"\n(",(0,r.kt)("a",{parentName:"li",href:"https://github.com/er1c"},"er1c"),")"),(0,r.kt)("li",{parentName:"ul"},"Fix typo ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/scalameta/metals/pull/687"},"#","687"),"\n(",(0,r.kt)("a",{parentName:"li",href:"https://github.com/greenrd"},"greenrd"),")"),(0,r.kt)("li",{parentName:"ul"},"Handle document symbols for nested declarations\n",(0,r.kt)("a",{parentName:"li",href:"https://github.com/scalameta/metals/pull/686"},"#","686"),"\n(",(0,r.kt)("a",{parentName:"li",href:"https://github.com/gabro"},"gabro"),")"),(0,r.kt)("li",{parentName:"ul"},"Update Emacs docs ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/scalameta/metals/pull/681"},"#","681"),"\n(",(0,r.kt)("a",{parentName:"li",href:"https://github.com/JesusMtnez"},"JesusMtnez"),")"),(0,r.kt)("li",{parentName:"ul"},'Add "Coming from IntelliJ" section to VS Code docs.\n',(0,r.kt)("a",{parentName:"li",href:"https://github.com/scalameta/metals/pull/678"},"#","678"),"\n(",(0,r.kt)("a",{parentName:"li",href:"https://github.com/olafurpg"},"olafurpg"),")"),(0,r.kt)("li",{parentName:"ul"},"Clear diagnostics on build import, fixes ","#","644.\n",(0,r.kt)("a",{parentName:"li",href:"https://github.com/scalameta/metals/pull/677"},"#","677"),"\n(",(0,r.kt)("a",{parentName:"li",href:"https://github.com/olafurpg"},"olafurpg"),")"),(0,r.kt)("li",{parentName:"ul"},"Disable flaky test on Appveyor.\n",(0,r.kt)("a",{parentName:"li",href:"https://github.com/scalameta/metals/pull/676"},"#","676"),"\n(",(0,r.kt)("a",{parentName:"li",href:"https://github.com/olafurpg"},"olafurpg"),")"),(0,r.kt)("li",{parentName:"ul"},"Update stable version in issue template\n",(0,r.kt)("a",{parentName:"li",href:"https://github.com/scalameta/metals/pull/671"},"#","671"),"\n(",(0,r.kt)("a",{parentName:"li",href:"https://github.com/gabro"},"gabro"),")"),(0,r.kt)("li",{parentName:"ul"},"Documenting coc.nvim as the recommended LSP client for Vim\n",(0,r.kt)("a",{parentName:"li",href:"https://github.com/scalameta/metals/pull/665"},"#","665"),"\n(",(0,r.kt)("a",{parentName:"li",href:"https://github.com/gvolpe"},"gvolpe"),")"),(0,r.kt)("li",{parentName:"ul"},"Remove Deprecated Usage Of ",(0,r.kt)("inlineCode",{parentName:"li"},"java.util.Date")," API\n",(0,r.kt)("a",{parentName:"li",href:"https://github.com/scalameta/metals/pull/663"},"#","663"),"\n(",(0,r.kt)("a",{parentName:"li",href:"https://github.com/isomarcte"},"isomarcte"),")"),(0,r.kt)("li",{parentName:"ul"},"Link to vscode marketplace\n",(0,r.kt)("a",{parentName:"li",href:"https://github.com/scalameta/metals/pull/661"},"#","661"),"\n(",(0,r.kt)("a",{parentName:"li",href:"https://github.com/raboof"},"raboof"),")"),(0,r.kt)("li",{parentName:"ul"},"Use correct GIF for signature help on landing page.\n",(0,r.kt)("a",{parentName:"li",href:"https://github.com/scalameta/metals/pull/660"},"#","660"),"\n(",(0,r.kt)("a",{parentName:"li",href:"https://github.com/olafurpg"},"olafurpg"),")"),(0,r.kt)("li",{parentName:"ul"},"Document new features and write release announcement.\n",(0,r.kt)("a",{parentName:"li",href:"https://github.com/scalameta/metals/pull/655"},"#","655"),"\n(",(0,r.kt)("a",{parentName:"li",href:"https://github.com/olafurpg"},"olafurpg"),")"),(0,r.kt)("li",{parentName:"ul"},"Make detail view in override not show unicode character.\n",(0,r.kt)("a",{parentName:"li",href:"https://github.com/scalameta/metals/pull/654"},"#","654"),"\n(",(0,r.kt)("a",{parentName:"li",href:"https://github.com/tgodzik"},"tgodzik"),")")))}p.isMDXComponent=!0}}]);