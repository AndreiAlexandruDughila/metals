<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>A Dive into Configuring Metals · Metals</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="As of this last Metals release, it&#x27;s now 100% possible to fully configure Metals"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="A Dive into Configuring Metals · Metals"/><meta property="og:type" content="website"/><meta property="og:url" content="http://scalameta.org/metals/blog/2020/07/23/configuring-a-client.html"/><meta property="og:description" content="As of this last Metals release, it&#x27;s now 100% possible to fully configure Metals"/><meta property="og:image" content="http://scalameta.org/metals/img/scalameta-logo.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="http://scalameta.org/metals/img/scalameta-logo.png"/><link rel="shortcut icon" href="/metals/img/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css"/><link rel="alternate" type="application/atom+xml" href="http://scalameta.org/metals/blog/atom.xml" title="Metals Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="http://scalameta.org/metals/blog/feed.xml" title="Metals Blog RSS Feed"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-140140828-1', 'auto');
              ga('send', 'pageview');
            </script><link rel="stylesheet" href="/metals/css/custom.css"/><script src="/metals/js/scrollSpy.js"></script><link rel="stylesheet" href="/metals/css/main.css"/><script src="/metals/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/metals/"><img class="logo" src="/metals/img/scalameta-logo.png" alt="Metals"/><h2 class="headerTitleWithLogo">Metals</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/metals/docs/editors/overview.html" target="_self">Docs</a></li><li class="siteNavGroupActive"><a href="/metals/blog/" target="_self">Blog</a></li><li class=""><a href="https://github.com/scalameta/metals" target="_blank">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>All Blog Posts</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">All Blog Posts</h3><ul class=""><li class="navListItem"><a class="navItem" href="/metals/blog/2020/12/19/lithium.html">Metals v0.9.8 - Lithium</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2020/11/26/lithium.html">Metals v0.9.7 - Lithium</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2020/11/20/lithium.html">Metals v0.9.6 - Lithium</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2020/11/10/lithium.html">Metals v0.9.5 - Lithium</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2020/11/06/sbt-BSP-support.html">sbt BSP support</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2020/09/21/lithium.html">Metals v0.9.4 - Lithium</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2020/08/19/lithium.html">Metals v0.9.3 - Lithium</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/metals/blog/2020/07/23/configuring-a-client.html">A Dive into Configuring Metals</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2020/07/15/lithium.html">Metals v0.9.2 - Lithium</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2020/07/01/lithium.html">Metals v0.9.1 - Lithium</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2020/05/04/lithium.html">Metals v0.9.0 - Lithium</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2020/04/10/cobalt.html">Metals v0.8.4 - Cobalt</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2020/03/19/cobalt.html">Metals v0.8.3 - Cobalt</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2020/02/26/cobalt.html">Metals v0.8.1 - Cobalt</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2020/01/10/cobalt.html">Metals v0.8.0 - Cobalt</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2019/09/23/thorium.html">Metals v0.7.6 - Thorium</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2019/09/12/thorium.html">Metals v0.7.5 - Thorium</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2019/09/02/thorium.html">Metals v0.7.2 - Thorium</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2019/06/28/thorium.html">Metals v0.7.0 - Thorium</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2019/06/11/radium.html">Metals v0.6.1 - Radium</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2019/04/26/mercury.html">Metals v0.5.1</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2019/04/12/mercury.html">Metals v0.5.0</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2019/02/01/tin.html">Metals v0.4.4</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2019/01/24/tin.html">Metals v0.4.0</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2019/01/22/bloom-filters.html">Low-memory symbol indexing with bloom filters</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2018/12/14/iron.html">Metals v0.3.2</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2018/12/12/fast-goto-definition.html">Fast goto definition with low memory footprint</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2018/12/06/iron.html">Metals v0.3 - Iron</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer postContainer blogContainer"><div class="wrapper"><div class="lonePost"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/metals/blog/2020/07/23/configuring-a-client.html">A Dive into Configuring Metals</a></h1><p class="post-meta">July 23, 2020</p><div class="authorBlock"><p class="post-authorName"><a href="https://twitter.com/ckipp01" target="_blank" rel="noreferrer noopener">Chris Kipp</a></p><div class="authorPhoto"><a href="https://twitter.com/ckipp01" target="_blank" rel="noreferrer noopener"><img src="https://avatars1.githubusercontent.com/u/13974112?s=400&amp;u=7b6a2ddab8eec6f99e4e40ae9b81f71cb5ba92e5&amp;v=4" alt="Chris Kipp"/></a></div></div></header><div><span><p>As of this last Metals release, it's now 100% possible to fully configure Metals
without any need to pass in server properties. Depending on your editor of
choice, the process to configure Metals may be completely abstracted away. You
simply click install, wait a bit, and start coding. In this post I'd like to
talk a bit about the progression of how Metals was originally configured fully
with server properties and how it can now be fully configured via the client,
which in <a href="https://microsoft.github.io/language-server-protocol/">LSP</a> terms is
your editor. This can serve both as a guide for those client extension
maintainers out there and also those curious at how Metals correctly works for
all the various editors.</p>
<h2><a class="anchor" aria-hidden="true" id="the-first-configuration"></a><a href="#the-first-configuration" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The first configuration</h2>
<p>Looking back to the Fall of 2018, you see a giant glimpse of Metals becoming
what it is today when looking at a giant commit by
<a href="https://twitter.com/olafurpg">@olafurpg</a> with the title <a href="https://github.com/scalameta/metals/commit/df6b41acaad1978ffd1fa25c41909c38425932ab">Implement pretty
basic language server and build
client.</a>.
It's a pretty fascinating commit to look at if you're interested in the
beginnings of Metals, but I want to focus in on a specific file that still exists
today, which is the
<a href="https://github.com/scalameta/metals/commit/df6b41acaad1978ffd1fa25c41909c38425932ab#diff-dc72b5c684177c884881164ab17182eb">MetalsServerConfig.scala</a>.
In this file you see the first configuration options that existed for Metals.
You see things like <code>isLogShowMessage</code> to ensure users were correctly getting
status messages instead of everything just going into the logs. (This was also
before
<a href="https://scalameta.org/metals/docs/editors/new-editor.html#metalsstatus"><code>metals/status</code></a>
existed which is used today for a better status experience in Metals). You also
see other options like <code>isHttpEnabled</code> for Metals to start the Doctor for those
that needed an HTTP client interface, or even an <code>icons</code> setting to ensure
things looked nice and matched your client. At this point, instead of just
having the user specify every one of these when they bootstrapped the server, a
<code>metals.client</code> property was introduced that we could give editors a set of
defaults. Here is an example for the first settings for Vim and Metals using the
<a href="https://github.com/natebosch/vim-lsc">vim-lsc</a> plugin:</p>
<pre><code class="hljs css language-scala"><span class="hljs-type">System</span>.getProperty(<span class="hljs-string">"metals.client"</span>, <span class="hljs-string">"unknown"</span>) <span class="hljs-keyword">match</span> {
  <span class="hljs-keyword">case</span> <span class="hljs-string">"vim-lsc"</span> =&gt;
    <span class="hljs-type">MetalsServerConfig</span>().copy(
      isExtensionsEnabled = <span class="hljs-literal">false</span>,
      fileWatcher = <span class="hljs-type">FileWatcherConfig</span>.auto,
      isLogStatusBar = <span class="hljs-literal">true</span>,
      isNoInitialized = <span class="hljs-literal">true</span>,
      isHttpEnabled = <span class="hljs-literal">true</span>,
      icons = <span class="hljs-type">Icons</span>.unicode
    )
  ...
</code></pre>
<p>The property would then be set when the user would bootstrap Metals. This
started out as a manual process for almost all the editors utilizing
<a href="https://github.com/coursier/coursier">Coursier</a>. This still actually remains a
valid way to configure Metals, although not recommended if your client supports
setting <code>InitializationOptions</code> in the
<a href="https://microsoft.github.io/language-server-protocol/specifications/specification-current/#initialize"><code>initalize</code></a>
request. It's also almost the identical process that happens behind the scenes
when client extensions like
<a href="https://github.com/scalameta/metals-vscode">metals-vscode</a>,
<a href="https://github.com/scalameta/coc-metals">coc-metals</a>, and
<a href="https://github.com/scalameta/metals-sublime">metals-sublime</a> bootstrap the
server for you. For example, here is how you would manually do this:</p>
<pre><code class="hljs css language-sh">coursier bootstrap \
  --java-opt -Xss4m \
  --java-opt -Xms100m \
  --java-opt -Dmetals.client=emacs \
  org.scalameta:metals_2.12:0.9.2 \
  -r bintray:scalacenter/releases \
  -r sonatype:snapshots \
  -o /usr/<span class="hljs-built_in">local</span>/bin/metals-emacs -f
</code></pre>
<p>In the above example, you would then get the defaults specified in
<code>MetalsServerConfig.scala</code> for <code>emacs</code>. Again, when the process is automated
it's very similar, and you can see this if you poke around the
<a href="https://github.com/scalameta/metals-vscode/blob/master/src/extension.ts#L166"><code>fetchAndLaunchMetals</code></a>
function in the VS-Code extension. You can see how the path to Coursier is
grabbed, your <code>JAVA_HOME</code> is captured, and how we get some extra
variables/properties to call Metals with.</p>
<h2><a class="anchor" aria-hidden="true" id="user-configuration"></a><a href="#user-configuration" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>User configuration</h2>
<p>Apart from server properties, it was also necessary for users to be able to
easily change a setting, even while in the editor. For example, we have a
current setting <code>metals.superMethodLensesEnabled</code> which when enabled will
display a code lens that when invoked will either go to the parent class
containing the definition of the method or symbol or display the full method
hierarchy allowing you to choose where to go.</p>
<p>Here is an example of what this looks like in Vim:
<img src="https://i.imgur.com/rEvhzG1.png" alt="Super Method Hierarchy"></p>
<p>This feature is actually turned off by default since in very large code bases
you may experience a lag. So if a user wanted to turn this on, it wouldn't be a
great user experience to have to re-bootstrap the server to enable this feature.
This is where the User Configuration comes into play by being able to change a
configuration value and notify the server via
<a href="https://microsoft.github.io/language-server-protocol/specification#workspace_didChangeConfiguration"><code>workspace/didChangeConfiguration</code></a>.
This can fully happen for most of the user configuration values without any need
to restart the server. You can see the first configuration options added this
way in <a href="https://github.com/scalameta/metals/commit/f4706ec75afb9bf797e3144f4a0e91bb0b186e07">this
commit</a>
where the ability to define your <code>JAVA_HOME</code> was added. With now allowing for
user configurations in Metals, this allowed for an even more customized
experience.</p>
<h2><a class="anchor" aria-hidden="true" id="experimental"></a><a href="#experimental" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Experimental</h2>
<p>Being able to customize the server with properties and allowing users to pass in
some configuration values worked great. However, once Metals started creating
LSP extensions for functionality that wasn't supported fully just by LSP, then a
way was needed for the client to express that it supported these extensions.
This is when Metals started to use the
<a href="https://microsoft.github.io/language-server-protocol/specifications/specification-current/#initialize"><code>ClientCapabilities.experimental</code></a>
field which the client needed to declare support the extension. You can see the
first inklings of this when the <a href="https://scalameta.org/metals/docs/editors/tree-view-protocol.html">Tree View
Protocol</a> was
introduced <a href="https://github.com/scalameta/metals/commit/a55a2413ef10237c8510eb707c0de0cd03b83d85#diff-f8c05eebbf12c9c21a7d568f09b500ea">here in this
commit</a>.
This then continued to be further expanded as we introduced more extensions.</p>
<p>As it became easier for various clients to set this, we slowly <a href="https://github.com/scalameta/metals/pull/1414">started to
migrate</a> other options that could
only be previously set via server properties to
<code>ClientCapabilities.experimental</code>. So settings like which format you'd like the
Doctor to return could now be set directly by the client without need to
bootstrap the server with a specific property. This allowed for much easier
configuration than was previously had.</p>
<h2><a class="anchor" aria-hidden="true" id="initializationoptions"></a><a href="#initializationoptions" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>InitializationOptions</h2>
<p>Once it was clear that configuring Metals via the client was desirable, a closer
look was taken at <code>InitializationOptions</code> that can be passed in during the
<a href="https://microsoft.github.io/language-server-protocol/specifications/specification-current/#initialize"><code>initialize</code></a>
request. Since any value is able to be passed in this way, a decision was made
to fully migrate all the possible settings that were previously set as server
properties (except a select few that we'll touch on later), and also move all
the of settings that could be set under <code>experimental</code> to
<code>InitializationOptions</code> as well. This ultimately allows for clients to fully
configured Metals via <code>InitializationOptions</code> without the need to set any server
properties. In theory this also meant that you could not use the same Metals
executable for VS Code, Vim, or Emacs since the server is fully being configured
by the client itself. The current settings that can be passed in and their
defaults are explained in detail <a href="https://scalameta.org/metals/docs/editors/new-editor.html#initializationoptions">here on the
website</a>,
but the interface is as follows:</p>
<pre><code class="hljs css language-typescript"><span class="hljs-keyword">interface</span> MetalsInitializationOptions {
  compilerOptions?: CompilerInitializationOptions;
  debuggingProvider?: <span class="hljs-built_in">boolean</span>;
  decorationProvider?: <span class="hljs-built_in">boolean</span>;
  didFocusProvider?: <span class="hljs-built_in">boolean</span>;
  doctorProvider?: <span class="hljs-string">"json"</span> | <span class="hljs-string">"html"</span>;
  executeClientCommandProvider?: <span class="hljs-built_in">boolean</span>;
  globSyntax?: <span class="hljs-string">"vscode"</span> | <span class="hljs-string">"uri"</span>;
  icons?: <span class="hljs-string">"vscode"</span> | <span class="hljs-string">"octicons"</span> | <span class="hljs-string">"atom"</span> | <span class="hljs-string">"unicode"</span>;
  inputBoxProvider?: <span class="hljs-built_in">boolean</span>;
  isExitOnShutdown?: <span class="hljs-built_in">boolean</span>;
  isHttpEnabled?: <span class="hljs-built_in">boolean</span>;
  openFilesOnRenameProvider?: <span class="hljs-built_in">boolean</span>;
  quickPickProvider?: <span class="hljs-built_in">boolean</span>;
  renameFileThreshold?: <span class="hljs-built_in">number</span>;
  slowTaskProvider?: <span class="hljs-built_in">boolean</span>;
  statusBarProvider?: <span class="hljs-string">"on"</span> | <span class="hljs-string">"off"</span> | <span class="hljs-string">"log-message"</span> | <span class="hljs-string">"show-message"</span>;
  treeViewProvider?: <span class="hljs-built_in">boolean</span>;
  openNewWindowProvider?: <span class="hljs-built_in">boolean</span>;
}
</code></pre>
<pre><code class="hljs css language-typescript"><span class="hljs-keyword">interface</span> CompilerInitializationOptions {
  completionCommand?: <span class="hljs-built_in">string</span>;
  isCompletionItemDetailEnabled?: <span class="hljs-built_in">boolean</span>;
  isCompletionItemDocumentationEnabled?: <span class="hljs-built_in">boolean</span>;
  isCompletionItemResolve?: <span class="hljs-built_in">boolean</span>;
  isHoverDocumentationEnabled?: <span class="hljs-built_in">boolean</span>;
  isSignatureHelpDocumentationEnabled?: <span class="hljs-built_in">boolean</span>;
  overrideDefFormat?: <span class="hljs-string">"ascii"</span> | <span class="hljs-string">"unicode"</span>;
  parameterHintsCommand?: <span class="hljs-built_in">string</span>;
  snippetAutoIndent?: <span class="hljs-built_in">boolean</span>;
}
</code></pre>
<p>You'll notice that this allows for a much finer grained configuration if the
client chooses to set certain values. Everything from whether or not the Scala
Presentation Compiler should populate the <code>SignatureHelp.documentation</code> to
whether or not the editor supports opening a new window after using the
<code>metals.new-scala-project</code> command can now be easily configured. Fully
configuring Metals through <code>InitializationOptions</code> is now the recommended way to
configure Metals.</p>
<h2><a class="anchor" aria-hidden="true" id="are-there-still-server-properties"></a><a href="#are-there-still-server-properties" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Are there still server properties?</h2>
<p>While all of the old server properties still exist for Metals, it's no longer
recommended to use them to configure Metals. However, there are still a few
server properties that remain only server properties since they are not meant to
be widely used, and aren't exactly recommended to use for the average user. You
can see an up to date list of these <a href="https://scalameta.org/metals/docs/editors/new-editor.html#metals-server-properties">here on the
website</a>
and what functionality they provide.</p>
<h2><a class="anchor" aria-hidden="true" id="conclusion"></a><a href="#conclusion" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Conclusion</h2>
<p>As of Metals 0.9.2 it's fully possibly for all clients to use a default
bootstrapped Metals that can fully be configured via <code>InitializationOptions</code>.
There is a freshly updated <a href="https://scalameta.org/metals/docs/editors/new-editor.html">Integrating a new
editor</a> section on
the website to help explain how to exactly configure a client for usage with
Metals. As always, don't hesitate to reach out on any of the various channels
located in the footer or submit an issue to either improve documentation or to
log a bug. Also as a reminder, there is a separate repo for
<a href="https://github.com/scalameta/metals-feature-requests">metals-feature-requests</a>.</p>
<p>Happy coding with Metals!</p>
</span></div></div><div class="blogSocialSection"></div></div><div class="blog-recent"><a class="button" href="/metals/blog/">Recent Posts</a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#the-first-configuration">The first configuration</a></li><li><a href="#user-configuration">User configuration</a></li><li><a href="#experimental">Experimental</a></li><li><a href="#initializationoptions">InitializationOptions</a></li><li><a href="#are-there-still-server-properties">Are there still server properties?</a></li><li><a href="#conclusion">Conclusion</a></li></ul></nav></div><footer class="nav-footer" id="footer" style="background-color:#1B555C"><section class="sitemap"><a href="/metals/" class="nav-home"><img src="/metals/img/scalameta-logo.png" alt="Metals" width="66" height="58"/></a><div><h5>Overview</h5><a href="/metals/docs/editors/overview.html">Text Editors</a><a href="/metals/docs/build-tools/overview.html">Build Tools</a><a href="/metals/docs/contributors/project-goals.html">Project Goals</a><a href=" /metals/docs/contributors/getting-started.html">Contributing</a></div><div><h5>Editors</h5><a href="/metals/docs/editors/vscode.html">Visual Studio Code</a><a href="/metals/docs/editors/vim.html">Vim</a><a href="/metals/docs/editors/sublime.html">Sublime Text</a><a href="/metals/docs/editors/emacs.html">Emacs</a><a href="/metals/docs/editors/eclipse.html">Eclipse</a></div><div><h5>Social</h5><a href="https://github.com/scalameta/metals" target="_blank"><img src="https://img.shields.io/github/stars/scalameta/metals.svg?color=%23087e8b&amp;label=stars&amp;logo=github&amp;style=social"/></a><a href="https://discord.gg/RFpSVth" target="_blank"><img src="https://img.shields.io/discord/632642981228314653?logo=discord&amp;style=social"/></a><a href="https://gitter.im/scalameta/metals" target="_blank"><img src="https://img.shields.io/gitter/room/scalameta/metals.svg?logo=gitter&amp;style=social"/></a><a href="https://twitter.com/scalameta" target="_blank"><img src="https://img.shields.io/twitter/follow/scalameta.svg?logo=twitter&amp;style=social"/></a></div></section><section class="copyright">Copyright © 2021 Metals</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: 'c865f6d974a3072a35d4b53d48ac2307',
                indexName: 'metals',
                inputSelector: '#search_input_react'
              });
            </script></body></html>