<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Vim · Metals</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="![Vim demo](https://i.imgur.com/4BYHCCL.gif)"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Vim · Metals"/><meta property="og:type" content="website"/><meta property="og:url" content="http://scalameta.org/metals/index.html"/><meta property="og:description" content="![Vim demo](https://i.imgur.com/4BYHCCL.gif)"/><meta property="og:image" content="http://scalameta.org/metals/img/scalameta-logo.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="http://scalameta.org/metals/img/scalameta-logo.png"/><link rel="shortcut icon" href="/metals/img/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css"/><link rel="alternate" type="application/atom+xml" href="http://scalameta.org/metals/blog/atom.xml" title="Metals Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="http://scalameta.org/metals/blog/feed.xml" title="Metals Blog RSS Feed"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-140140828-1', 'auto');
              ga('send', 'pageview');
            </script><link rel="stylesheet" href="/metals/css/custom.css"/><script src="/metals/js/scrollSpy.js"></script><link rel="stylesheet" href="/metals/css/main.css"/><script src="/metals/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/metals/"><img class="logo" src="/metals/img/scalameta-logo.png" alt="Metals"/><h2 class="headerTitleWithLogo">Metals</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/metals/docs/editors/overview.html" target="_self">Docs</a></li><li class=""><a href="/metals/blog/" target="_self">Blog</a></li><li class=""><a href="https://github.com/scalameta/metals" target="_blank">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Text Editors</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Text Editors</h3><ul class=""><li class="navListItem"><a class="navItem" href="/metals/docs/editors/overview.html">Overview</a></li><li class="navListItem"><a class="navItem" href="/metals/docs/editors/vscode.html">Visual Studio Code</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/metals/docs/editors/vim.html">Vim</a></li><li class="navListItem"><a class="navItem" href="/metals/docs/editors/sublime.html">Sublime Text</a></li><li class="navListItem"><a class="navItem" href="/metals/docs/editors/emacs.html">Emacs</a></li><li class="navListItem"><a class="navItem" href="/metals/docs/editors/eclipse.html">Eclipse</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Build Tools</h3><ul class=""><li class="navListItem"><a class="navItem" href="/metals/docs/build-tools/overview.html">Overview</a></li><li class="navListItem"><a class="navItem" href="/metals/docs/build-tools/bloop.html">Bloop</a></li><li class="navListItem"><a class="navItem" href="/metals/docs/build-tools/gradle.html">Gradle</a></li><li class="navListItem"><a class="navItem" href="/metals/docs/build-tools/maven.html">Maven</a></li><li class="navListItem"><a class="navItem" href="/metals/docs/build-tools/mill.html">Mill</a></li><li class="navListItem"><a class="navItem" href="/metals/docs/build-tools/sbt.html">sbt</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Contributing</h3><ul class=""><li class="navListItem"><a class="navItem" href="/metals/docs/contributors/project-goals.html">Project Goals</a></li><li class="navListItem"><a class="navItem" href="/metals/docs/contributors/getting-started.html">Contributing to Metals</a></li><li class="navListItem"><a class="navItem" href="/metals/docs/contributors/updating-website.html">Contributing to the website</a></li><li class="navListItem"><a class="navItem" href="/metals/docs/contributors/releasing.html">Making a release</a></li><li class="navListItem"><a class="navItem" href="/metals/docs/contributors/tests.html">Tests overview</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Integrating with Metals</h3><ul class=""><li class="navListItem"><a class="navItem" href="/metals/docs/integrations/remote-language-server.html">Remote Language Servers</a></li><li class="navListItem"><a class="navItem" href="/metals/docs/integrations/new-build-tool.html">Integrating a new build tool</a></li><li class="navListItem"><a class="navItem" href="/metals/docs/integrations/new-editor.html">Integrating a new editor</a></li><li class="navListItem"><a class="navItem" href="/metals/docs/integrations/tree-view-protocol.html">Tree View Protocol</a></li><li class="navListItem"><a class="navItem" href="/metals/docs/integrations/decoration-protocol.html">Decoration Protocol</a></li><li class="navListItem"><a class="navItem" href="/metals/docs/integrations/debug-adapter-protocol.html">Debug Adapter Protocol</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Troubleshooting</h3><ul class=""><li class="navListItem"><a class="navItem" href="/metals/docs/troubleshooting/proxy.html">Proxy and mirrors</a></li><li class="navListItem"><a class="navItem" href="/metals/docs/troubleshooting/faq.html">Frequently asked questions</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/scalameta/metals/edit/main/docs/editors/vim.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">Vim</h1></header><article><div><span><p><img src="https://i.imgur.com/4BYHCCL.gif" alt="Vim demo"></p>
<p>Metals works with most LSP clients for Vim, but we recommend using one of the
Metals-specific extensions to get the best experience since they offer
Metals-specific commands and implement the Metals LSP extensions.</p>
<ul>
<li><a href="https://github.com/scalameta/coc-metals">coc-metals</a> An extension for
<a href="https://github.com/neoclide/coc.nvim"><code>coc.nvim</code></a> This provides the most
feature-filled experience. This is recommended for most users, and the
majority of the documentation below reflects this option.</li>
<li><a href="https://github.com/scalameta/nvim-metals">nvim-metals</a> A Lua extension for
the <a href="https://neovim.io/doc/user/lsp.html">built-in LSP support</a> in Neovim
0.5.x. Recommended for those that like a thinner client. <em>NOTE</em>: This option
is <em>not</em> as stable as <code>coc-metals</code> yet and requires the nightly version of
Neovim. You can find detailed instructions for this plugin
<a href="https://github.com/scalameta/nvim-metals/blob/master/doc/metals.txt">here</a>.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="requirements"></a><a href="#requirements" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Requirements</h2>
<p><strong>Java 8 or 11 provided by OpenJDK or Oracle</strong>. Eclipse OpenJ9 is not
supported, please make sure the <code>JAVA_HOME</code> environment variable
points to a valid Java 8 or 11 installation.</p>
<p><strong>macOS, Linux or Windows</strong>. Metals is developed on macOS and every PR is
tested on Ubuntu+Windows.</p>
<p><strong>Scala 2.13, 2.12, 2.11 and Scala 3</strong>. Metals supports these Scala versions 2.13.5, 2.12.13, 2.12.12, 2.12.11, 2.12.10, 2.13.3, 2.13.4, 2.11.12, 2.12.8, 2.12.9, 2.13.0, 2.13.1, 2.13.2, 3.0.0-RC1, 3.0.0-M3, 3.0.0-M2 and 3.0.0-M1.
Note that 2.11.x support is deprecated and it will be removed in future releases.
It's recommended to upgrade to Scala 2.12 or Scala 2.13</p>
<h2><a class="anchor" aria-hidden="true" id="installing-vim"></a><a href="#installing-vim" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Installing Vim</h2>
<p>The coc.nvim plugin requires either <strong>Vim &gt;= 8.1</strong> or <strong>Neovim &gt;= 0.3.1</strong>. Make
sure you have the correct version installed. While it works with both Vim and
Neovim, we recommend using Neovim since it provides a smoother experience with
some of the features.</p>
<pre><code class="hljs css language-sh"><span class="hljs-comment"># If using Vim</span>
vim --version | head
VIM - Vi IMproved 8.2

<span class="hljs-comment"># If using Neovim</span>
nvim --version | head
NVIM v0.4.3
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="installing-node"></a><a href="#installing-node" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Installing Node</h2>
<p><code>coc.nvim</code> requires <a href="https://nodejs.org/en/download/">Node.js</a> in order to work.
It also uses <a href="https://yarnpkg.com/en/docs/install#debian-stable">Yarn</a> to manage
extensions but you could opt-out of it and use <code>vim-plug</code> instead.</p>
<p>For convenience we recommend installing both via your favorite package manager
or manually:</p>
<pre><code class="hljs css language-sh">curl -sL install-node.now.sh/lts | sh
curl --compressed -o- -L https://yarnpkg.com/install.sh | bash
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="installing-cocnvim"></a><a href="#installing-cocnvim" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Installing coc.nvim</h2>
<p>Once the requirements are satisfied, we can now proceed to install
[<code>neoclide/coc.nvim</code>] (<a href="https://github.com/neoclide/coc.nvim/">https://github.com/neoclide/coc.nvim/</a>), which provides
Language Server Protocol support to Vim/Nvim  to communicate with the Metals
language server.</p>
<p>Assuming <a href="https://github.com/junegunn/vim-plug"><code>vim-plug</code></a> is used (another
plugin manager like vundle works too), update your <code>~/.vimrc</code> to include the
following settings.</p>
<pre><code class="hljs css language-vim">Plug <span class="hljs-string">'neoclide/coc.nvim'</span>, {<span class="hljs-string">'branch'</span>: <span class="hljs-string">'release'</span>}
</code></pre>
<p>Run <code>:PlugInstall</code> to install the plugin. If you already have <code>coc.nvim</code>
installed, be sure to update to the latest version with <code>:PlugUpdate</code>.</p>
<p><code>coc.nvim</code> uses <a href="https://code.visualstudio.com/docs/languages/json">jsonc</a> as a
configuration file format. It's basically json with comment support.</p>
<p>In order to get comment highlighting, please add:</p>
<pre><code class="hljs css language-vim"><span class="hljs-keyword">autocmd</span> FileType json <span class="hljs-keyword">syntax</span> <span class="hljs-keyword">match</span> Comment +\/\/.\+$+
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="recommended-cocnvim-mappings"></a><a href="#recommended-cocnvim-mappings" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Recommended coc.nvim mappings</h3>
<p><code>coc.nvim</code> doesn't come with a default key mapping for LSP commands, so you need
to configure it yourself.</p>
<p>Here's a recommended configuration:</p>
<pre><code class="hljs css language-vim"><span class="hljs-comment">" ~/.vimrc</span>
<span class="hljs-comment">" Configuration for coc.nvim</span>

<span class="hljs-comment">" If hidden is not set, TextEdit might fail.</span>
<span class="hljs-keyword">set</span> hidden

<span class="hljs-comment">" Some servers have issues with backup files</span>
<span class="hljs-keyword">set</span> nobackup
<span class="hljs-keyword">set</span> nowritebackup

<span class="hljs-comment">" You will have a bad experience with diagnostic messages with the default 4000.</span>
<span class="hljs-keyword">set</span> updatetime=<span class="hljs-number">300</span>

<span class="hljs-comment">" Don't give |ins-completion-menu| messages.</span>
<span class="hljs-keyword">set</span> shortmess+=<span class="hljs-keyword">c</span>

<span class="hljs-comment">" Always show signcolumns</span>
<span class="hljs-keyword">set</span> signcolumn=yes

<span class="hljs-comment">" Help Vim recognize *.sbt and *.sc as Scala files</span>
<span class="hljs-keyword">au</span> BufRead,BufNewFile *.sbt,*.sc <span class="hljs-keyword">set</span> <span class="hljs-keyword">filetype</span>=scala

<span class="hljs-comment">" Use tab for trigger completion with characters ahead and navigate.</span>
<span class="hljs-comment">" Use command ':verbose imap &lt;tab&gt;' to make sure tab is not mapped by other plugin.</span>
<span class="hljs-keyword">inoremap</span> <span class="hljs-symbol">&lt;silent&gt;</span><span class="hljs-symbol">&lt;expr&gt;</span> <span class="hljs-symbol">&lt;TAB&gt;</span>
      \ <span class="hljs-built_in">pumvisible</span>() ? <span class="hljs-string">"\&lt;C-n&gt;"</span> :
      \ <span class="hljs-symbol">&lt;SID&gt;</span>check_back_space() ? <span class="hljs-string">"\&lt;TAB&gt;"</span> :
      \ coc#refresh()
<span class="hljs-keyword">inoremap</span> <span class="hljs-symbol">&lt;expr&gt;</span><span class="hljs-symbol">&lt;S-TAB&gt;</span> <span class="hljs-built_in">pumvisible</span>() ? <span class="hljs-string">"\&lt;C-p&gt;"</span> : <span class="hljs-string">"\&lt;C-h&gt;"</span>

<span class="hljs-comment">" Used in the tab autocompletion for coc</span>
<span class="hljs-function"><span class="hljs-keyword">function</span>! <span class="hljs-title">s</span>:<span class="hljs-title">check_back_space</span><span class="hljs-params">()</span> <span class="hljs-title">abort</span></span>
  <span class="hljs-keyword">let</span> <span class="hljs-keyword">col</span> = <span class="hljs-keyword">col</span>(<span class="hljs-string">'.'</span>) - <span class="hljs-number">1</span>
  <span class="hljs-keyword">return</span> !col || <span class="hljs-built_in">getline</span>(<span class="hljs-string">'.'</span>)[<span class="hljs-keyword">col</span> - <span class="hljs-number">1</span>]  =~# <span class="hljs-string">'\s'</span>
<span class="hljs-keyword">endfunction</span>

<span class="hljs-comment">" Use &lt;c-space&gt; to trigger completion.</span>
<span class="hljs-keyword">if</span> <span class="hljs-built_in">has</span>(<span class="hljs-string">'nvim'</span>)
  <span class="hljs-keyword">inoremap</span> <span class="hljs-symbol">&lt;silent&gt;</span><span class="hljs-symbol">&lt;expr&gt;</span> <span class="hljs-symbol">&lt;c-space&gt;</span> coc#refresh()
<span class="hljs-keyword">else</span>
  <span class="hljs-keyword">inoremap</span> <span class="hljs-symbol">&lt;silent&gt;</span><span class="hljs-symbol">&lt;expr&gt;</span> &lt;<span class="hljs-keyword">c</span>-@&gt; coc#refresh()
<span class="hljs-keyword">endif</span>

<span class="hljs-comment">" Make &lt;CR&gt; auto-select the first completion item and notify coc.nvim to</span>
<span class="hljs-comment">" format on enter, &lt;cr&gt; could be remapped by other vim plugin</span>
<span class="hljs-keyword">inoremap</span> <span class="hljs-symbol">&lt;silent&gt;</span><span class="hljs-symbol">&lt;expr&gt;</span> <span class="hljs-symbol">&lt;cr&gt;</span> <span class="hljs-built_in">pumvisible</span>() ? coc#_select_confirm()
                              \: <span class="hljs-string">"\&lt;C-g&gt;u\&lt;CR&gt;\&lt;c-r&gt;=coc#on_enter()\&lt;CR&gt;"</span>

<span class="hljs-comment">" Use `[g` and `]g` to navigate diagnostics</span>
<span class="hljs-keyword">nmap</span> <span class="hljs-symbol">&lt;silent&gt;</span> [g <span class="hljs-symbol">&lt;Plug&gt;</span>(coc-diagnostic-<span class="hljs-keyword">prev</span>)
<span class="hljs-keyword">nmap</span> <span class="hljs-symbol">&lt;silent&gt;</span> ]g <span class="hljs-symbol">&lt;Plug&gt;</span>(coc-diagnostic-<span class="hljs-keyword">next</span>)

<span class="hljs-comment">" Remap keys for gotos</span>
<span class="hljs-keyword">nmap</span> <span class="hljs-symbol">&lt;silent&gt;</span> gd <span class="hljs-symbol">&lt;Plug&gt;</span>(coc-definition)
<span class="hljs-keyword">nmap</span> <span class="hljs-symbol">&lt;silent&gt;</span> gy <span class="hljs-symbol">&lt;Plug&gt;</span>(coc-<span class="hljs-built_in">type</span>-definition)
<span class="hljs-keyword">nmap</span> <span class="hljs-symbol">&lt;silent&gt;</span> gi <span class="hljs-symbol">&lt;Plug&gt;</span>(coc-implementation)
<span class="hljs-keyword">nmap</span> <span class="hljs-symbol">&lt;silent&gt;</span> <span class="hljs-keyword">gr</span> <span class="hljs-symbol">&lt;Plug&gt;</span>(coc-references)

<span class="hljs-comment">" Used to expand decorations in worksheets</span>
<span class="hljs-keyword">nmap</span> <span class="hljs-symbol">&lt;Leader&gt;</span><span class="hljs-keyword">ws</span> <span class="hljs-symbol">&lt;Plug&gt;</span>(coc-metals-<span class="hljs-built_in">expand</span>-decoration)

<span class="hljs-comment">" Use K to either doHover or show documentation in preview window</span>
<span class="hljs-keyword">nnoremap</span> <span class="hljs-symbol">&lt;silent&gt;</span> K :<span class="hljs-keyword">call</span> <span class="hljs-symbol">&lt;SID&gt;</span>show_documentation()<span class="hljs-symbol">&lt;CR&gt;</span>

<span class="hljs-function"><span class="hljs-keyword">function</span>! <span class="hljs-title">s</span>:<span class="hljs-title">show_documentation</span><span class="hljs-params">()</span></span>
  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">index</span>([<span class="hljs-string">'vim'</span>,<span class="hljs-string">'help'</span>], &amp;<span class="hljs-keyword">filetype</span>) &gt;= <span class="hljs-number">0</span>)
    <span class="hljs-keyword">execute</span> <span class="hljs-string">'h '</span>.<span class="hljs-built_in">expand</span>(<span class="hljs-string">'&lt;cword&gt;'</span>)
  <span class="hljs-keyword">elseif</span> (coc#rpc#ready())
    <span class="hljs-keyword">call</span> CocActionAsync(<span class="hljs-string">'doHover'</span>)
  <span class="hljs-keyword">else</span>
    <span class="hljs-keyword">execute</span> <span class="hljs-string">'!'</span> . &amp;keywordprg . <span class="hljs-string">" "</span> . <span class="hljs-built_in">expand</span>(<span class="hljs-string">'&lt;cword&gt;'</span>)
  <span class="hljs-keyword">endif</span>
<span class="hljs-keyword">endfunction</span>

<span class="hljs-comment">" Highlight symbol under cursor on CursorHold</span>
<span class="hljs-keyword">autocmd</span> CursorHold * <span class="hljs-keyword">silent</span> <span class="hljs-keyword">call</span> CocActionAsync(<span class="hljs-string">'highlight'</span>)

<span class="hljs-comment">" Remap for rename current word</span>
<span class="hljs-keyword">nmap</span> <span class="hljs-symbol">&lt;leader&gt;</span>rn <span class="hljs-symbol">&lt;Plug&gt;</span>(coc-<span class="hljs-built_in">rename</span>)

<span class="hljs-keyword">augroup</span> mygroup
  autocmd!
  <span class="hljs-comment">" Update signature help on jump placeholder</span>
  <span class="hljs-keyword">autocmd</span> User CocJumpPlaceholder <span class="hljs-keyword">call</span> CocActionAsync(<span class="hljs-string">'showSignatureHelp'</span>)
<span class="hljs-keyword">augroup</span> end

<span class="hljs-comment">" Applying codeAction to the selected region.</span>
<span class="hljs-comment">" Example: `&lt;leader&gt;aap` for current paragraph</span>
<span class="hljs-keyword">xmap</span> <span class="hljs-symbol">&lt;leader&gt;</span><span class="hljs-keyword">a</span>  <span class="hljs-symbol">&lt;Plug&gt;</span>(coc-codeaction-selected)
<span class="hljs-keyword">nmap</span> <span class="hljs-symbol">&lt;leader&gt;</span><span class="hljs-keyword">a</span>  <span class="hljs-symbol">&lt;Plug&gt;</span>(coc-codeaction-selected)

<span class="hljs-comment">" Remap keys for applying codeAction to the current buffer.</span>
<span class="hljs-keyword">nmap</span> <span class="hljs-symbol">&lt;leader&gt;</span>ac  <span class="hljs-symbol">&lt;Plug&gt;</span>(coc-codeaction)
<span class="hljs-comment">" Apply AutoFix to problem on the current line.</span>
<span class="hljs-keyword">nmap</span> <span class="hljs-symbol">&lt;leader&gt;</span>qf  <span class="hljs-symbol">&lt;Plug&gt;</span>(coc-<span class="hljs-keyword">fix</span>-current)

<span class="hljs-comment">" Use `:Format` to format current buffer</span>
command! -nargs=<span class="hljs-number">0</span> Format :<span class="hljs-keyword">call</span> CocAction(<span class="hljs-string">'format'</span>)

<span class="hljs-comment">" Use `:Fold` to fold current buffer</span>
command! -nargs=? Fold :<span class="hljs-keyword">call</span>     CocAction(<span class="hljs-string">'fold'</span>, <span class="hljs-symbol">&lt;f-args&gt;</span>)

<span class="hljs-comment">" Trigger for code actions</span>
<span class="hljs-string">" Make sure `"</span>codeLens.enable<span class="hljs-comment">": true` is set in your coc config</span>
<span class="hljs-keyword">nnoremap</span> <span class="hljs-symbol">&lt;leader&gt;</span><span class="hljs-keyword">cl</span> :<span class="hljs-symbol">&lt;C-u&gt;</span><span class="hljs-keyword">call</span> CocActionAsync(<span class="hljs-string">'codeLensAction'</span>)<span class="hljs-symbol">&lt;CR&gt;</span>

<span class="hljs-comment">" Mappings for CoCList</span>
<span class="hljs-comment">" Show all diagnostics.</span>
<span class="hljs-keyword">nnoremap</span> <span class="hljs-symbol">&lt;silent&gt;</span><span class="hljs-symbol">&lt;nowait&gt;</span> <span class="hljs-symbol">&lt;space&gt;</span><span class="hljs-keyword">a</span>  :<span class="hljs-symbol">&lt;C-u&gt;</span>CocList diagnostics<span class="hljs-symbol">&lt;cr&gt;</span>
<span class="hljs-comment">" Manage extensions.</span>
<span class="hljs-keyword">nnoremap</span> <span class="hljs-symbol">&lt;silent&gt;</span><span class="hljs-symbol">&lt;nowait&gt;</span> <span class="hljs-symbol">&lt;space&gt;</span><span class="hljs-keyword">e</span>  :<span class="hljs-symbol">&lt;C-u&gt;</span>CocList extensions<span class="hljs-symbol">&lt;cr&gt;</span>
<span class="hljs-comment">" Show commands.</span>
<span class="hljs-keyword">nnoremap</span> <span class="hljs-symbol">&lt;silent&gt;</span><span class="hljs-symbol">&lt;nowait&gt;</span> <span class="hljs-symbol">&lt;space&gt;</span><span class="hljs-keyword">c</span>  :<span class="hljs-symbol">&lt;C-u&gt;</span>CocList commands<span class="hljs-symbol">&lt;cr&gt;</span>
<span class="hljs-comment">" Find symbol of current document.</span>
<span class="hljs-keyword">nnoremap</span> <span class="hljs-symbol">&lt;silent&gt;</span><span class="hljs-symbol">&lt;nowait&gt;</span> <span class="hljs-symbol">&lt;space&gt;</span><span class="hljs-keyword">o</span>  :<span class="hljs-symbol">&lt;C-u&gt;</span>CocList outline<span class="hljs-symbol">&lt;cr&gt;</span>
<span class="hljs-comment">" Search workspace symbols.</span>
<span class="hljs-keyword">nnoremap</span> <span class="hljs-symbol">&lt;silent&gt;</span><span class="hljs-symbol">&lt;nowait&gt;</span> <span class="hljs-symbol">&lt;space&gt;</span>s  :<span class="hljs-symbol">&lt;C-u&gt;</span>CocList -I symbols<span class="hljs-symbol">&lt;cr&gt;</span>
<span class="hljs-comment">" Do default action for next item.</span>
<span class="hljs-keyword">nnoremap</span> <span class="hljs-symbol">&lt;silent&gt;</span><span class="hljs-symbol">&lt;nowait&gt;</span> <span class="hljs-symbol">&lt;space&gt;</span><span class="hljs-keyword">j</span>  :<span class="hljs-symbol">&lt;C-u&gt;</span>CocNext<span class="hljs-symbol">&lt;CR&gt;</span>
<span class="hljs-comment">" Do default action for previous item.</span>
<span class="hljs-keyword">nnoremap</span> <span class="hljs-symbol">&lt;silent&gt;</span><span class="hljs-symbol">&lt;nowait&gt;</span> <span class="hljs-symbol">&lt;space&gt;</span><span class="hljs-keyword">k</span>  :<span class="hljs-symbol">&lt;C-u&gt;</span>CocPrev<span class="hljs-symbol">&lt;CR&gt;</span>
<span class="hljs-comment">" Resume latest coc list.</span>
<span class="hljs-keyword">nnoremap</span> <span class="hljs-symbol">&lt;silent&gt;</span><span class="hljs-symbol">&lt;nowait&gt;</span> <span class="hljs-symbol">&lt;space&gt;</span><span class="hljs-keyword">p</span>  :<span class="hljs-symbol">&lt;C-u&gt;</span>CocListResume<span class="hljs-symbol">&lt;CR&gt;</span>

<span class="hljs-comment">" Notify coc.nvim that &lt;enter&gt; has been pressed.</span>
<span class="hljs-comment">" Currently used for the formatOnType feature.</span>
<span class="hljs-keyword">inoremap</span> <span class="hljs-symbol">&lt;silent&gt;</span><span class="hljs-symbol">&lt;expr&gt;</span> <span class="hljs-symbol">&lt;cr&gt;</span> <span class="hljs-built_in">pumvisible</span>() ? coc#_select_confirm()
      \: <span class="hljs-string">"\&lt;C-g&gt;u\&lt;CR&gt;\&lt;c-r&gt;=coc#on_enter()\&lt;CR&gt;"</span>

<span class="hljs-comment">" Toggle panel with Tree Views</span>
<span class="hljs-keyword">nnoremap</span> <span class="hljs-symbol">&lt;silent&gt;</span> <span class="hljs-symbol">&lt;space&gt;</span>t :<span class="hljs-symbol">&lt;C-u&gt;</span>CocCommand metals.tvp<span class="hljs-symbol">&lt;CR&gt;</span>
<span class="hljs-comment">" Toggle Tree View 'metalsPackages'</span>
<span class="hljs-keyword">nnoremap</span> <span class="hljs-symbol">&lt;silent&gt;</span> <span class="hljs-symbol">&lt;space&gt;</span><span class="hljs-keyword">tp</span> :<span class="hljs-symbol">&lt;C-u&gt;</span>CocCommand metals.tvp metalsPackages<span class="hljs-symbol">&lt;CR&gt;</span>
<span class="hljs-comment">" Toggle Tree View 'metalsCompile'</span>
<span class="hljs-keyword">nnoremap</span> <span class="hljs-symbol">&lt;silent&gt;</span> <span class="hljs-symbol">&lt;space&gt;</span><span class="hljs-keyword">tc</span> :<span class="hljs-symbol">&lt;C-u&gt;</span>CocCommand metals.tvp metalsCompile<span class="hljs-symbol">&lt;CR&gt;</span>
<span class="hljs-comment">" Toggle Tree View 'metalsBuild'</span>
<span class="hljs-keyword">nnoremap</span> <span class="hljs-symbol">&lt;silent&gt;</span> <span class="hljs-symbol">&lt;space&gt;</span>tb :<span class="hljs-symbol">&lt;C-u&gt;</span>CocCommand metals.tvp metalsBuild<span class="hljs-symbol">&lt;CR&gt;</span>
<span class="hljs-comment">" Reveal current current class (trait or object) in Tree View 'metalsPackages'</span>
<span class="hljs-keyword">nnoremap</span> <span class="hljs-symbol">&lt;silent&gt;</span> <span class="hljs-symbol">&lt;space&gt;</span><span class="hljs-keyword">tf</span> :<span class="hljs-symbol">&lt;C-u&gt;</span>CocCommand metals.revealInTreeView metalsPackages<span class="hljs-symbol">&lt;CR&gt;</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="installing-coc-metals"></a><a href="#installing-coc-metals" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Installing coc-metals</h3>
<p>Once you have <code>coc.nvim</code> installed, you can then install Metals a few different
ways. The easiest is by running:</p>
<pre><code class="hljs css language-vim">:CocInstall coc-metals
</code></pre>
<p>If you are using the latest stable release of coc.nvim, then this will
automatically check for updates each day. However, if you're on the master
branch of coc.nvim, this will no longer happen by default. You can read more
about this <a href="https://github.com/neoclide/coc.nvim/issues/1937">here</a>.</p>
<p>If you'd like to use the latest changes on master, you can also just build from
source by using your vim plugin manager. Here is an example using <code>vim-plug</code>:</p>
<pre><code class="hljs css language-vim">Plug <span class="hljs-string">'scalameta/coc-metals'</span>, {<span class="hljs-string">'do'</span>: <span class="hljs-string">'yarn install --frozen-lockfile'</span>}
</code></pre>
<p>Then, issue a <code>:PlugInstall</code> to install the extension, and regularly a
<code>:PlugUpdate</code> to update it and pull in the latest changes.</p>
<p><strong>NOTE</strong>* Make sure you don't have the extension installed both ways. So if you
have installed it with the built-in extension management of coc.nvim first and
are not switching, make sure to uninstall the old version first.</p>
<pre><code class="hljs css language-vim">:CocUninstall coc-metals
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="importing-a-build"></a><a href="#importing-a-build" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Importing a build</h2>
<p>The first time you open Metals in a new workspace it prompts you to import the build.
Click &quot;Import build&quot; to start the installation step.</p>
<p><img src="https://i.imgur.com/1EyQPTC.png" alt="Import build"></p>
<ul>
<li>&quot;Not now&quot; disables this prompt for 2 minutes.</li>
<li>&quot;Don't show again&quot; disables this prompt forever, use <code>rm -rf .metals/</code> to re-enable
the prompt.</li>
<li>Use <code>tail -f .metals/metals.log</code> to watch the build import progress.</li>
<li>Behind the scenes, Metals uses <a href="https://scalacenter.github.io/bloop/">Bloop</a> to
import sbt builds, but you don't need Bloop installed on your machine to run this step.</li>
</ul>
<p>Once the import step completes, compilation starts for your open <code>*.scala</code>
files.</p>
<p>Once the sources have compiled successfully, you can navigate the codebase with
goto definition.</p>
<h3><a class="anchor" aria-hidden="true" id="custom-sbt-launcher"></a><a href="#custom-sbt-launcher" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Custom sbt launcher</h3>
<p>By default, Metals runs an embedded <code>sbt-launch.jar</code> launcher that respects <code>.sbtopts</code> and <code>.jvmopts</code>.
However, the environment variables <code>SBT_OPTS</code> and <code>JAVA_OPTS</code> are not respected.</p>
<p>Update the <code>metals.sbtScript</code> setting to use a custom <code>sbt</code> script instead of the
default Metals launcher if you need further customizations like reading environment
variables.</p>
<p><img src="https://i.imgur.com/meciPTg.png" alt="Sbt Launcher"></p>
<h3><a class="anchor" aria-hidden="true" id="speeding-up-import"></a><a href="#speeding-up-import" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Speeding up import</h3>
<p>The &quot;Import build&quot; step can take a long time, especially the first time you
run it in a new build. The exact time depends on the complexity of the build and
if library dependencies need to be downloaded. For example, this step can take
everything from 10 seconds in small cached builds up to 10-15 minutes in large
uncached builds.</p>
<p>Consult the <a href="https://scalacenter.github.io/bloop/docs/build-tools/sbt#speeding-up-build-export">Bloop documentation</a>
to learn how to speed up build import.</p>
<h3><a class="anchor" aria-hidden="true" id="importing-changes"></a><a href="#importing-changes" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Importing changes</h3>
<p>When you change <code>build.sbt</code> or sources under <code>project/</code>, you will be prompted to
re-import the build.</p>
<p><img src="https://i.imgur.com/iocTVb6.png" alt="Import sbt changes"></p>
<h2><a class="anchor" aria-hidden="true" id="configure-java-version"></a><a href="#configure-java-version" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Configure Java version</h2>
<p>The <code>coc-metals</code> extension uses by default the <code>JAVA_HOME</code> environment variable
(via <a href="https://www.npmjs.com/package/find-java-home"><code>find-java-home</code></a>) to locate
the <code>java</code> executable.</p>
<p><img src="https://i.imgur.com/clDfPMk.png" alt="No Java Home"></p>
<p>If no <code>JAVA_HOME</code> is detected you can then Open Settings by following the
instructions or do it at a later time by using <code>:CocConfig</code> or <code>:CocConfigLocal</code>
which will open up your configuration where you can manually enter your
JAVA_HOME location.</p>
<p><img src="https://i.imgur.com/wK07Vju.png" alt="Enter Java Home"></p>
<h2><a class="anchor" aria-hidden="true" id="using-latest-metals-snapshot"></a><a href="#using-latest-metals-snapshot" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using latest Metals SNAPSHOT</h2>
<p>Update the &quot;Server Version&quot; setting to try out the latest pending Metals
features.</p>
<table>
      <thead>
        <th>Version</th>
        <th>Published</th>
      </thead>
      <tbody>
        <tr>
          <td>0.10.0</td>
          <td>24 Feb 2021 11:20</td>
        </tr>
        <tr>
          <td>0.10.0+66-11aa5f0f-SNAPSHOT</td>
          <td>15 Mar 2021 13:21</td>
        </tr>
      </tbody>
    </table>
After updating the version, you'll be triggered to reload the window.
This will be necessary before the new version will be downloaded and used.
<p><img src="https://i.imgur.com/VUCdQvi.png" alt="Update Metals Version"></p>
<h2><a class="anchor" aria-hidden="true" id="list-all-workspace-compile-errors"></a><a href="#list-all-workspace-compile-errors" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>List all workspace compile errors</h2>
<p>To list all compilation errors and warnings in the workspace, run the following
command.</p>
<pre><code class="hljs css language-vim">:CocList diagnostics
</code></pre>
<p>Or use the default recommended mapping <code>&lt;space&gt; a</code>.</p>
<p>This is helpful to see compilation errors in different files from your current
open buffer.</p>
<p><img src="https://i.imgur.com/cer22HW.png" alt="Diagnostics"></p>
<h2><a class="anchor" aria-hidden="true" id="worksheets"></a><a href="#worksheets" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Worksheets</h2>
<p>Worksheets are a great way to explore an api, try out an idea, or code
up an example and quickly see the evaluated expression or result. Behind
the scenes worksheets are powered by the great work done in
<a href="https://scalameta.org/mdoc/">mdoc</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="getting-started-with-worksheets"></a><a href="#getting-started-with-worksheets" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Getting started with Worksheets</h3>
<p>To get started with a worksheet you can either use the <code>metals.new-scala-file</code>
command and select <em>Worksheet</em> or create a file called <code>*.worksheet.sc</code>.
This format is important since this is what tells Metals that it's meant to be
treated as a worksheet and not just a Scala script. Where you create the
script also matters. If you'd like to use classes and values from your
project, you need to make sure the worksheet is created inside of your <code>src</code>
directory. You can still create a worksheet in other places, but you will
only have access to the standard library and your dependencies.</p>
<h3><a class="anchor" aria-hidden="true" id="evaluations"></a><a href="#evaluations" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Evaluations</h3>
<p>After saving you'll see the result of the expression differently depending on whether you are using Neovim or Vim. If
using Vim, you will see them appear as comments at the end of
the line. If you're using Nvim you will see this as virtual text.
Keep in mind that if you're using coc-metals with Nvim you'll need
to make sure <code>codeLens.enable</code> is set to <code>true</code>.
You may not see the full result for example if it's too long, so you are also
able to hover on the comment if you're in Vim or expand the virtual text by
using the <code>coc-metals-expand-decoration</code> command. The default for this
is:</p>
<pre><code class="hljs css language-vim"><span class="hljs-keyword">nmap</span> <span class="hljs-symbol">&lt;Leader&gt;</span><span class="hljs-keyword">ws</span> <span class="hljs-symbol">&lt;Plug&gt;</span>(coc-metals-<span class="hljs-built_in">expand</span>-decoration)
</code></pre>
<p>Keep in mind that you don't need to wrap your code in an <code>object</code>. In worksheets
everything can be evaluated at the top level.</p>
<h3><a class="anchor" aria-hidden="true" id="using-dependencies-in-worksheets"></a><a href="#using-dependencies-in-worksheets" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using dependencies in worksheets</h3>
<p>You are able to include an external dependency in your worksheet by including
it in one of the following two ways.</p>
<pre><code class="hljs css language-scala"><span class="hljs-comment">// $dep.`organisation`::artifact:version` style</span>
<span class="hljs-keyword">import</span> $dep.`com.lihaoyi::scalatags:<span class="hljs-number">0.7</span><span class="hljs-number">.0</span>`

<span class="hljs-comment">// $ivy.`organisation::artifact:version` style</span>
<span class="hljs-keyword">import</span> $ivy.`com.lihaoyi::scalatags:<span class="hljs-number">0.7</span><span class="hljs-number">.0</span>`
</code></pre>
<p>:: is the same as %% in sbt, which will append the current Scala binary version
to the artifact name.
<img src="https://i.imgur.com/Bt6DMtH.png" alt="Decorations with worksheets"></p>
<h2><a class="anchor" aria-hidden="true" id="tree-view-protocol"></a><a href="#tree-view-protocol" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Tree View Protocol</h2>
<p><img src="https://i.imgur.com/GvcU9Mu.gif" alt="Tree View Protocol"></p>
<p>coc-metals has a built-in implementation of the <a href="https://scalameta.org/metals/docs/editors/tree-view-protocol.html">Tree View
Protocol</a>.
If you have the <a href="/metals/docs/editors/vim.html#recommended-cocnvim-mappings">recommended mappings</a> copied, you'll notice
that in the bottom you'll have some TVP related settings. You can start by
opening the TVP panel by using the default <code>&lt;space&gt; t</code>. Once open, you'll see
there are three parts to the panel. The first being the <code>MetalsCompile</code> window
where you can see ongoing compilations, the second is the <code>MetalsPackages</code>
window where you are able to see a tree view of all your packages, and finally
the <code>metalsBuild</code> window where you have build related commands.</p>
<p>You are able to trigger the commands while being on top of the option you are
attempting to trigger and pressing <code>r</code>. You can change this default in the
settings. You can find all the relevant TVP settings below in the <a href="#tree-view-protocol-configuration-options">Available
Configuration Options</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="tree-view-protocol-configuration-options"></a><a href="#tree-view-protocol-configuration-options" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Tree View Protocol configuration options</h3>
<table>
<thead>
<tr><th>Configuration Option</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td><code>metals.treeviews.toggleNode</code></td><td>Expand / Collapse tree node (default <code>&lt;CR&gt;</code>)</td></tr>
<tr><td><code>metals.treeviews.initialWidth</code></td><td>Initial Tree Views panels (default <code>40</code>)</td></tr>
<tr><td><code>metals.treeviews.initialViews</code></td><td>Initial views that the Tree View Panel displays. Don't mess with this unless you know what you're doing.</td></tr>
<tr><td><code>metals.treeviews.gotoLastChild</code></td><td>Go to the last child Node (defalt <code>J</code>)</td></tr>
<tr><td><code>metals.treeviews.gotoParentNode</code></td><td>Go to parent Node (default <code>p</code>)</td></tr>
<tr><td><code>metals.treeviews.gotoFirstChild</code></td><td>Go to first child Node (default <code>K</code>)</td></tr>
<tr><td><code>metals.treeviews.executeCommand</code></td><td>Execute command for node (default <code>r</code>)</td></tr>
<tr><td><code>metals.treeviews.gotoPrevSibling</code></td><td>Go to prev sibling (default <code>&lt;C-k&gt;</code>)</td></tr>
<tr><td><code>metals.treeviews.gotoNextSibling</code></td><td>Go to next sibling (default <code>&lt;C-j&gt;</code>)</td></tr>
<tr><td><code>metals.treeviews.forceChildrenReload</code></td><td>Force the reloading of the children of this node. May be useful when the wrong result is cached and tree contains invalid data. (default <code>f</code>)</td></tr>
<tr><td><code>metals.treeviews.executeCommandAndOpenTab</code></td><td>Execute command and open node under cursor in tab (if node is class, trait and so on) (default <code>t</code>)</td></tr>
<tr><td><code>metals.treeviews.executeCommandAndOpenSplit</code></td><td>Execute command and open node under cursor in horizontal split (if node is class, trait and so on) (default <code>s</code>)</td></tr>
<tr><td><code>metals.treeviews.executeCommandAndOpenVSplit</code></td><td>Execute command and open node under cursor in horizontal split (if node is class, trait and so on) (default <code>v</code>)</td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="goto-super-method"></a><a href="#goto-super-method" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Goto Super Method</h2>
<p>Depending on whether you're using Vim or Neovim, you'll have a slightly
different behavior with this feature. If you're using Neovim, you'll want to
ensure that you have <code>codeLens.enable</code> set to <code>true</code> in your <code>:CocConfig</code> since
you'll be able to quickly see via code lenses which members are overridden.
Then, you'll be able to simply trigger a code lens action on the line of the
member that is overridden. The default mapping for this is <code>&lt;leader&gt; cl</code>.</p>
<p>If you're using Vim, you'll still have access to this functionality, but you'll
have to infer which members are overridden and utilize the
<code>metals.go-to-super-method</code> command.</p>
<p>There is also a <code>metals.super-method-hierarchy</code> command which will show you the
entire hierarchy of the overridden method.</p>
<p><img src="https://i.imgur.com/TkjolXq.png" alt="Goto super method"></p>
<p>If you don't utilize this feature you can disable it by setting
<code>metals.superMethodLensesEnabled</code> to <code>false</code>.</p>
<h2><a class="anchor" aria-hidden="true" id="run-doctor"></a><a href="#run-doctor" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Run doctor</h2>
<p>To troubleshoot problems with your build workspace, open your coc commands by either
using <code>:CocCommand</code> or the recommend mapping <code>&lt;space&gt; c</code>. This will open your command
window allowing you to search for <code>metals.doctor-run</code> command.</p>
<p><img src="https://i.imgur.com/QaqhxF7.png" alt="Run Doctor Command"></p>
<p>This command opens an embedded doctor in your preview window. If you're not familiar with
having multiple windows, you can use <code>&lt;C-w&gt; + w</code> to jump into it.</p>
<p><img src="https://i.imgur.com/McaAFv5.png" alt="Embedded Doctor"></p>
<h2><a class="anchor" aria-hidden="true" id="other-available-commands"></a><a href="#other-available-commands" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Other Available Commands</h2>
<p>You can see a full list of the Metals server commands
<a href="https://scalameta.org/metals/docs/editors/new-editor.html#metals-server-commands">here</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="show-document-symbols"></a><a href="#show-document-symbols" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Show document symbols</h2>
<p>Run <code>:CocList outline</code> to show a symbol outline for the current file or use the
default mapping <code>&lt;space&gt; o</code>.</p>
<p><img src="https://i.imgur.com/gEhAXV4.png" alt="Document Symbols"></p>
<h2><a class="anchor" aria-hidden="true" id="available-configuration-options"></a><a href="#available-configuration-options" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Available Configuration Options</h2>
<p>The following configuration options are currently available. The easiest way to
set these configurations is to enter <code>:CocConfig</code> or <code>:CocLocalConfig</code> to set
your global or local configuration settings respectively.
If you'd like to get autocompletion help for the configuration values you can
install <a href="https://github.com/neoclide/coc-json">coc-json</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="java-home-directory"></a><a href="#java-home-directory" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Java Home directory</h3>
<p>The Java Home directory used for indexing JDK sources and locating the <code>java</code> binary.</p>
<p><strong>Default</strong>: <code>JAVA_HOME</code> environment variable with fallback to <code>user.home</code> system property.</p>
<p><strong>Example</strong>:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"metals.javaHome"</span>: <span class="hljs-string">"/Library/Java/JavaVirtualMachines/jdk1.8.0_192.jdk/Contents/Home"</span>
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="sbt-script"></a><a href="#sbt-script" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>sbt script</h3>
<p>Optional absolute path to an <code>sbt</code> executable to use for running <code>sbt bloopInstall</code>.
By default, Metals uses <code>java -jar sbt-launch.jar</code> with an embedded launcher while respecting
<code>.jvmopts</code> and <code>.sbtopts</code>. Update this setting if your <code>sbt</code> script requires more customizations
like using environment variables.</p>
<p><strong>Default</strong>: empty string <code>&quot;&quot;</code>.</p>
<p><strong>Example</strong>:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"metals.sbtScript"</span>: <span class="hljs-string">"/usr/local/bin/sbt"</span>
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="gradle-script"></a><a href="#gradle-script" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>gradle script</h3>
<p>Optional absolute path to a <code>gradle</code> executable to use for running <code>gradle bloopInstall</code>.
By default, Metals uses gradlew with 5.3.1 gradle version. Update this setting if your <code>gradle</code> script requires more customizations
like using environment variables.</p>
<p><strong>Default</strong>: empty string <code>&quot;&quot;</code>.</p>
<p><strong>Example</strong>:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"metals.gradleScript"</span>: <span class="hljs-string">"/usr/local/bin/gradle"</span>
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="maven-script"></a><a href="#maven-script" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>maven script</h3>
<p>Optional absolute path to a <code>maven</code> executable to use for generating bloop config.
By default, Metals uses mvnw maven wrapper with 3.6.1 maven version. Update this setting if your <code>maven</code> script requires more customizations</p>
<p><strong>Default</strong>: empty string <code>&quot;&quot;</code>.</p>
<p><strong>Example</strong>:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"metals.mavenScript"</span>: <span class="hljs-string">"/usr/local/bin/mvn"</span>
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="mill-script"></a><a href="#mill-script" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>mill script</h3>
<p>Optional absolute path to a <code>mill</code> executable to use for running <code>mill mill.contrib.Bloop/install</code>.
By default, Metals uses mill wrapper script with 0.5.0 mill version. Update this setting if your <code>mill</code> script requires more customizations
like using environment variables.</p>
<p><strong>Default</strong>: empty string <code>&quot;&quot;</code>.</p>
<p><strong>Example</strong>:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"metals.millScript"</span>: <span class="hljs-string">"/usr/local/bin/mill"</span>
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="scalafmt-config-path"></a><a href="#scalafmt-config-path" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Scalafmt config path</h3>
<p>Optional custom path to the .scalafmt.conf file.
Should be an absolute path and use forward slashes <code>/</code> for file separators (even on Windows).</p>
<p><strong>Default</strong>: empty string <code>&quot;&quot;</code>.</p>
<p><strong>Example</strong>:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"metals.scalafmtConfigPath"</span>: <span class="hljs-string">"project/.scalafmt.conf"</span>
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="scalafix-config-path"></a><a href="#scalafix-config-path" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Scalafix config path</h3>
<p>Optional custom path to the .scalafix.conf file.
Should be an absolute path and use forward slashes <code>/</code> for file separators (even on Windows).</p>
<p><strong>Default</strong>: empty string <code>&quot;&quot;</code>.</p>
<p><strong>Example</strong>:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"metals.scalafixConfigPath"</span>: <span class="hljs-string">"project/.scalafix.conf"</span>
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="ammonite-jvm-properties"></a><a href="#ammonite-jvm-properties" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ammonite JVM Properties</h3>
<p>Optional list of JVM properties to pass along to the Ammonite server.
Each property needs to be a separate item.\n\nExample: <code>-Xmx1G</code> or <code>-Xms100M</code>&quot;</p>
<p><strong>Default</strong>: <code>[]</code>.</p>
<p><strong>Example</strong>:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"metals.ammoniteJvmProperties"</span>: [<span class="hljs-string">"-Xmx1G"</span>]
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="excluded-packages"></a><a href="#excluded-packages" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Excluded Packages</h3>
<p>Packages that will be excluded from completions, imports, and symbol searches.</p>
<p>Note that this is in addition to some default packages that are already excluded.
The default excluded packages are listed below:</p>
<pre><code class="hljs css language-js">META-INF
images
toolbarButtonGraphics
jdk
sun
oracle
java.awt.desktop
org.jcp
org.omg
org.graalvm
com.oracle
com.sun
com.apple
apple
</code></pre>
<p>If there is a need to remove one of the defaults, you are able to do so by including the
package in your list and prepending <code>--</code> to it.</p>
<p>Example:</p>
<pre><code class="hljs css language-js">[<span class="hljs-string">"--sun"</span>]
</code></pre>
<p><strong>Default</strong>: <code>[]</code>.</p>
<p><strong>Example</strong>:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"metals.excludedPackages"</span>: [<span class="hljs-string">"akka.actor.typed.javadsl"</span>]
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="dont-generate-bloop-plugin-file-for-sbt"></a><a href="#dont-generate-bloop-plugin-file-for-sbt" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Don't generate Bloop plugin file for sbt</h3>
<p>If true, Metals will not generate <code>metals.sbt</code> files under the assumption that sbt-bloop is already manually installed in the sbt build. Build import will fail with a 'not valid command bloopInstall' error in case Bloop is not manually installed in the build when using this option.</p>
<p><strong>Default</strong>: false</p>
<p><strong>Example</strong>:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"metals.bloopSbtAlreadyInstalled"</span>: <span class="hljs-literal">false</span>
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="version-of-bloop"></a><a href="#version-of-bloop" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Version of Bloop</h3>
<p>This version will be used for the Bloop build tool plugin, for any supported build tool,
while importing in Metals as well as for running the embedded server</p>
<p><strong>Default</strong>: 1.4.8</p>
<p><strong>Example</strong>:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"metals.bloopVersion"</span>: <span class="hljs-string">"1.4.0-RC1"</span>
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="should-display-lenses-with-links-to-super-methods"></a><a href="#should-display-lenses-with-links-to-super-methods" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Should display lenses with links to super methods</h3>
<p>Super method lenses are visible above methods definition that override another methods. Clicking on a lens jumps to super method definition.
Disabled lenses are not calculated for opened documents which might speed up document processing.</p>
<p><strong>Default</strong>: false</p>
<p><strong>Example</strong>:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"metals.superMethodLensesEnabled"</span>: <span class="hljs-literal">false</span>
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="should-display-type-annotations-for-inferred-types"></a><a href="#should-display-type-annotations-for-inferred-types" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Should display type annotations for inferred types</h3>
<p>When this option is enabled, each method that can have inferred types has them
displayed either as additional decorations if they are supported by the editor or
shown in the hover.</p>
<p><strong>Default</strong>: false</p>
<p><strong>Example</strong>:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"metals.showInferredType"</span>: <span class="hljs-literal">false</span>
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="should-display-implicit-parameter-at-usage-sites"></a><a href="#should-display-implicit-parameter-at-usage-sites" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Should display implicit parameter at usage sites</h3>
<p>When this option is enabled, each method that has implicit arguments has them
displayed either as additional decorations if they are supported by the editor or
shown in the hover.</p>
<p><strong>Default</strong>: false</p>
<p><strong>Example</strong>:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"metals.showImplicitArguments"</span>: <span class="hljs-literal">false</span>
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="should-display-implicit-conversion-at-usage-sites"></a><a href="#should-display-implicit-conversion-at-usage-sites" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Should display implicit conversion at usage sites</h3>
<p>When this option is enabled, each place where an implicit method or class is used has it
displayed either as additional decorations if they are supported by the editor or
shown in the hover.</p>
<p><strong>Default</strong>: false</p>
<p><strong>Example</strong>:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"metals.showImplicitConversionsAndClasses"</span>: <span class="hljs-literal">false</span>
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="remote-language-server"></a><a href="#remote-language-server" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Remote language server</h3>
<p>A URL pointing to an endpoint that implements a remote language server.</p>
<p>See <a href="https://scalameta.org/metals/docs/contributors/remote-language-server.html">https://scalameta.org/metals/docs/contributors/remote-language-server.html</a> for
documentation on remote language servers.</p>
<p><strong>Default</strong>: empty string <code>&quot;&quot;</code>.</p>
<p><strong>Example</strong>:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"metals.remoteLanguageServer"</span>: <span class="hljs-string">"https://language-server.company.com/message"</span>
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="default-fallback-scala-version"></a><a href="#default-fallback-scala-version" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Default fallback Scala version</h3>
<p>The Scala compiler version that is used as the default or fallback in case a file
doesn't belong to any build target or the specified Scala version isn't supported by Metals.
This applies to standalone Scala files, worksheets, and Ammonite scripts.</p>
<p><strong>Default</strong>: 2.12.13</p>
<p><strong>Example</strong>:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"metals.fallbackScalaVersion"</span>: <span class="hljs-number">2.12</span><span class="hljs-number">.13</span>
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="create-new-project-from-template"></a><a href="#create-new-project-from-template" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Create new project from template</h2>
<p>It is possible using Metals to easily setup a new project using the exiting <a href="https://github.com/foundweekends/giter8/wiki/giter8-templates">giter8</a> templates.
This is an equivalent to the <code>sbt new</code> command, which uses the same mechanism.
There is a great number of templates already available and it should be easy to find something for yourself.
To start the setup you can use the new-scala-project command, which works as following:</p>
<ol>
<li>Choose the template and then:
<ol>
<li>Use the proposed templates.</li>
<li>Choose &quot;Discover more&quot; and then choose from the list downloaded from the Giter8 wiki page.</li>
<li>Input a custom Github repository following the <code>organization/repo</code> schema.</li>
</ol></li>
<li>Navigate to the parent directory that you want to create your new project in.</li>
<li>Choose the name or accept the default one.</li>
</ol>
<p>If you feel like a template should be included in the default displayed ones do not hesitate to create a
<a href="https://github.com/scalameta/metals/blob/cda5b8c2029e5f201fb8d0636e0365d796407bd9/metals/src/main/scala/scala/meta/internal/builds/NewProjectProvider.scala#L308">PR</a>
or file an issue.</p>
<h2><a class="anchor" aria-hidden="true" id="enable-on-type-formatting-for-multiline-string-formatting"></a><a href="#enable-on-type-formatting-for-multiline-string-formatting" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Enable on type formatting for multiline string formatting</h2>
<p><img src="https://i.imgur.com/astTOKu.gif" alt="on-type"></p>
<p>To properly support some of the multiline string options like adding <code>|</code> in
the multiline string, we are using the <code>onTypeFormatting</code> method. To enable the
functionality you need to enable <code>coc.preferences.formatOnType</code> setting.</p>
<p><img src="https://i.imgur.com/RWPHt2q.png" alt="coc-preferences-formatOnType"></p>
<h2><a class="anchor" aria-hidden="true" id="close-buffer-without-exiting"></a><a href="#close-buffer-without-exiting" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Close buffer without exiting</h2>
<p>To close a buffer and return to the previous buffer, run the following command.</p>
<pre><code class="hljs css language-vim">:<span class="hljs-keyword">bd</span>
</code></pre>
<p>This command is helpful when navigating in library dependency sources in the .metals/readonly directory.</p>
<h2><a class="anchor" aria-hidden="true" id="shut-down-the-language-server"></a><a href="#shut-down-the-language-server" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Shut down the language server</h2>
<p>The Metals server is shutdown when you exit vim as usual.</p>
<pre><code class="hljs css language-vim">:<span class="hljs-keyword">wq</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="statusline-integration"></a><a href="#statusline-integration" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Statusline integration</h2>
<p>It's recommended to use a statusline integration with <code>coc-metals</code> in order to
allow messages to be displayed in your status line rather than as a message.
This will allow for a better experience as you can continue to get status
information while entering a command or responding to a prompt. However, we
realize that not everyone by default will have this setup, and since the user
needs to see messages about the status of their build, the following is
defaulted to false.</p>
<pre><code class="hljs css language-json">"metals.statusBarEnabled": true
</code></pre>
<p>Again, it's recommended to make this active, and use a statusline plugin, or
manually add the coc status information into your statusline. <code>coc.nvim</code> has
multiple ways to integrate with various statusline plugins. You can find
instructions for each of them located
<a href="https://github.com/neoclide/coc.nvim/wiki/Statusline-integration">here</a>.  If
you're unsure of what to use,
<a href="https://github.com/vim-airline/vim-airline">vim-airline</a> is a great minimal
choice that will work out of the box.</p>
<p>With <a href="https://github.com/vim-airline/vim-airline">vim-airline</a> you'll notice
two noteworthy things. The first will be that you'll have diagnostic
information on the far right of your screen.</p>
<p><img src="https://i.imgur.com/7uNYTYl.png" alt="Diagnostic statusline"></p>
<p>You'll also have metals status information in your status bar.</p>
<p><img src="https://i.imgur.com/eCAgrCn.png" alt="Status bar info"></p>
<p>Without a statusline integration, you'll get messages like you see below.</p>
<p><img src="https://i.imgur.com/XF7A1BJ.png" alt="No status line"></p>
<p>If you don't use a statusline plugin, but would still like to see this
information, the easiest way is to make sure you have the following in your
<code>.vimrc</code>.</p>
<pre><code class="hljs css language-vim"><span class="hljs-keyword">set</span> statusline^=%{coc#status()}%{<span class="hljs-built_in">get</span>(<span class="hljs-variable">b:</span>,<span class="hljs-string">'coc_current_function'</span>,<span class="hljs-string">''</span>)}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="formatting-on-save"></a><a href="#formatting-on-save" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Formatting on save</h2>
<p>Add the following configuration to <code>:CocConfig</code> if you'd like to have <code>:w</code> format using Metals and
Scalafmt.</p>
<pre><code class="hljs css language-json">"coc.preferences.formatOnSaveFiletypes": ["scala"]
</code></pre>
<p>This step cleans up resources that are used by the server.</p>
<h2><a class="anchor" aria-hidden="true" id="files-and-directories-to-include-in-your-gitignore"></a><a href="#files-and-directories-to-include-in-your-gitignore" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Files and Directories to include in your Gitignore</h2>
<p>The Metals server places logs and other files in the <code>.metals</code> directory. The
Bloop compile server places logs and compilation artifacts in the <code>.bloop</code>
directory. The Bloop plugin that generates Bloop configuration is added in the
<code>metals.sbt</code> file, which is added at <code>project/metals.sbt</code> as well as further
<code>project</code> directories depending on how deep <code>*.sbt</code> files need to be supported.
To support each <code>*.sbt</code> file Metals needs to create an additional file at
<code>./project/project/metals.sbt</code> relative to the sbt file.
Working with Ammonite scripts will place compiled scripts into the <code>.ammonite</code> directory.
It's recommended to exclude these directories and files
from version control systems like git.</p>
<pre><code class="hljs css language-sh"><span class="hljs-comment"># ~/.gitignore</span>
.metals/
.bloop/
.ammonite/
metals.sbt
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="using-an-alternative-lsp-client"></a><a href="#using-an-alternative-lsp-client" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using an alternative LSP Client</h2>
<p>While we recommend using the <code>coc-metals</code> extension with <code>coc.nvim</code>, or
<code>nvim-metals</code> with Neovim, Metals will work with these alternative LSP clients.
Keep in mind that they have varying levels of LSP support, and you need to
bootstrap Metals yourself.</p>
<ul>
<li><a href="https://github.com/natebosch/vim-lsc/"><code>vim-lsc</code></a>: simple installation and written in Vimscript.</li>
<li><a href="https://github.com/autozimu/LanguageClient-neovim/"><code>LanguageClient-neovim</code></a>: client written in Rust.</li>
<li><a href="https://github.com/prabirshrestha/vim-lsp"><code>vim-lsp</code></a>: simple installation and written in
Vimscript.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="generating-metals-binary"></a><a href="#generating-metals-binary" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Generating metals binary</h3>
<p>If you only want to use the latest stable version of Metals, the easiest way to
install Metals is using <a href="https://get-coursier.io/">coursier</a>. Once installed you
can simply do a <code>cs install metals</code> to install the latest stable version of
Metals. You can then also do a <code>cs update metals</code> to update it.</p>
<p>If you'd like to bootstrap your own Metals for a specific version, you're also
able to do so like this:</p>
<p>Next, build a <code>metals-vim</code> binary for the latest Metals release using the
<a href="https://github.com/coursier/coursier">Coursier</a> command-line interface.</p>
<table>
      <thead>
        <th>Version</th>
        <th>Published</th>
        <th>Resolver</th>
      </thead>
      <tbody>
        <tr>
          <td>0.10.0</td>
          <td>24 Feb 2021 11:20</td>
          <td><code>-r sonatype:releases</code></td>
        </tr>
        <tr>
          <td>0.10.0+66-11aa5f0f-SNAPSHOT</td>
          <td>15 Mar 2021 13:21</td>
          <td><code>-r sonatype:snapshots</code></td>
        </tr>
      </tbody>
    </table>
<pre><code class="hljs css language-sh"><span class="hljs-comment"># Make sure to use coursier v1.1.0-M9 or newer.</span>
curl -L -o coursier https://git.io/coursier-cli
chmod +x coursier
./coursier bootstrap \
  --java-opt -Xss4m \
  --java-opt -Xms100m \
  --java-opt -Dmetals.client=vim-lsc \
  org.scalameta:metals_2.12:0.10.0 \
  -r bintray:scalacenter/releases \
  -r sonatype:snapshots \
  -o /usr/<span class="hljs-built_in">local</span>/bin/metals-vim -f
</code></pre>
<p>Make sure the generated <code>metals-vim</code> binary is available on your <code>$PATH</code>.</p>
<p>You can check version of your binary by executing <code>metals-vim -version</code>.</p>
<p>Configure the system properties <code>-Dhttps.proxyHost=… -Dhttps.proxyPort=…</code>
if you are behind an HTTP proxy.
The <code>-Dmetals.client=vim-lsc</code> flag is there just as a helper to match your
potential client. So make sure it matches your client name. This line isn't
mandatory though as your client can fully be configured via
<code>InitializationOptions</code>, which should be easily configurable by your client. You
can read more about his
<a href="https://scalameta.org/metals/blog/2020/07/23/configuring-a-client.html#initializationoptions">here</a>.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/metals/docs/editors/vscode.html"><span class="arrow-prev">← </span><span>Visual Studio Code</span></a><a class="docs-next button" href="/metals/docs/editors/sublime.html"><span>Sublime Text</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#requirements">Requirements</a></li><li><a href="#installing-vim">Installing Vim</a></li><li><a href="#installing-node">Installing Node</a></li><li><a href="#installing-cocnvim">Installing coc.nvim</a><ul class="toc-headings"><li><a href="#recommended-cocnvim-mappings">Recommended coc.nvim mappings</a></li><li><a href="#installing-coc-metals">Installing coc-metals</a></li></ul></li><li><a href="#importing-a-build">Importing a build</a><ul class="toc-headings"><li><a href="#custom-sbt-launcher">Custom sbt launcher</a></li><li><a href="#speeding-up-import">Speeding up import</a></li><li><a href="#importing-changes">Importing changes</a></li></ul></li><li><a href="#configure-java-version">Configure Java version</a></li><li><a href="#using-latest-metals-snapshot">Using latest Metals SNAPSHOT</a></li><li><a href="#list-all-workspace-compile-errors">List all workspace compile errors</a></li><li><a href="#worksheets">Worksheets</a><ul class="toc-headings"><li><a href="#getting-started-with-worksheets">Getting started with Worksheets</a></li><li><a href="#evaluations">Evaluations</a></li><li><a href="#using-dependencies-in-worksheets">Using dependencies in worksheets</a></li></ul></li><li><a href="#tree-view-protocol">Tree View Protocol</a><ul class="toc-headings"><li><a href="#tree-view-protocol-configuration-options">Tree View Protocol configuration options</a></li></ul></li><li><a href="#goto-super-method">Goto Super Method</a></li><li><a href="#run-doctor">Run doctor</a></li><li><a href="#other-available-commands">Other Available Commands</a></li><li><a href="#show-document-symbols">Show document symbols</a></li><li><a href="#available-configuration-options">Available Configuration Options</a><ul class="toc-headings"><li><a href="#java-home-directory">Java Home directory</a></li><li><a href="#sbt-script">sbt script</a></li><li><a href="#gradle-script">gradle script</a></li><li><a href="#maven-script">maven script</a></li><li><a href="#mill-script">mill script</a></li><li><a href="#scalafmt-config-path">Scalafmt config path</a></li><li><a href="#scalafix-config-path">Scalafix config path</a></li><li><a href="#ammonite-jvm-properties">Ammonite JVM Properties</a></li><li><a href="#excluded-packages">Excluded Packages</a></li><li><a href="#dont-generate-bloop-plugin-file-for-sbt">Don't generate Bloop plugin file for sbt</a></li><li><a href="#version-of-bloop">Version of Bloop</a></li><li><a href="#should-display-lenses-with-links-to-super-methods">Should display lenses with links to super methods</a></li><li><a href="#should-display-type-annotations-for-inferred-types">Should display type annotations for inferred types</a></li><li><a href="#should-display-implicit-parameter-at-usage-sites">Should display implicit parameter at usage sites</a></li><li><a href="#should-display-implicit-conversion-at-usage-sites">Should display implicit conversion at usage sites</a></li><li><a href="#remote-language-server">Remote language server</a></li><li><a href="#default-fallback-scala-version">Default fallback Scala version</a></li></ul></li><li><a href="#create-new-project-from-template">Create new project from template</a></li><li><a href="#enable-on-type-formatting-for-multiline-string-formatting">Enable on type formatting for multiline string formatting</a></li><li><a href="#close-buffer-without-exiting">Close buffer without exiting</a></li><li><a href="#shut-down-the-language-server">Shut down the language server</a></li><li><a href="#statusline-integration">Statusline integration</a></li><li><a href="#formatting-on-save">Formatting on save</a></li><li><a href="#files-and-directories-to-include-in-your-gitignore">Files and Directories to include in your Gitignore</a></li><li><a href="#using-an-alternative-lsp-client">Using an alternative LSP Client</a><ul class="toc-headings"><li><a href="#generating-metals-binary">Generating metals binary</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer" style="background-color:#1B555C"><section class="sitemap"><a href="/metals/" class="nav-home"><img src="/metals/img/scalameta-logo.png" alt="Metals" width="66" height="58"/></a><div><h5>Overview</h5><a href="/metals/docs/editors/overview.html">Text Editors</a><a href="/metals/docs/build-tools/overview.html">Build Tools</a><a href="/metals/docs/contributors/project-goals.html">Project Goals</a><a href=" /metals/docs/contributors/getting-started.html">Contributing</a></div><div><h5>Editors</h5><a href="/metals/docs/editors/vscode.html">Visual Studio Code</a><a href="/metals/docs/editors/vim.html">Vim</a><a href="/metals/docs/editors/sublime.html">Sublime Text</a><a href="/metals/docs/editors/emacs.html">Emacs</a><a href="/metals/docs/editors/eclipse.html">Eclipse</a></div><div><h5>Social</h5><a href="https://github.com/scalameta/metals" target="_blank"><img src="https://img.shields.io/github/stars/scalameta/metals.svg?color=%23087e8b&amp;label=stars&amp;logo=github&amp;style=social"/></a><a href="https://discord.gg/RFpSVth" target="_blank"><img src="https://img.shields.io/discord/632642981228314653?logo=discord&amp;style=social"/></a><a href="https://gitter.im/scalameta/metals" target="_blank"><img src="https://img.shields.io/gitter/room/scalameta/metals.svg?logo=gitter&amp;style=social"/></a><a href="https://twitter.com/scalameta" target="_blank"><img src="https://img.shields.io/twitter/follow/scalameta.svg?logo=twitter&amp;style=social"/></a></div></section><section class="copyright">Copyright © 2021 Metals</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: 'c865f6d974a3072a35d4b53d48ac2307',
                indexName: 'metals',
                inputSelector: '#search_input_react'
              });
            </script></body></html>