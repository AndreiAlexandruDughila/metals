<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/metals/blog/rss.xml" title="Metals Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/metals/blog/atom.xml" title="Metals Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-140140828-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-140140828-1",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Metals" href="/metals/opensearch.xml"><title data-react-helmet="true">Proxy and mirrors | Metals</title><meta data-react-helmet="true" property="og:url" content="http://scalameta.org/metals/docs/troubleshooting/proxy"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Proxy and mirrors | Metals"><meta data-react-helmet="true" name="description" content="There are several parts inside Metals and Bloop that require resolving"><meta data-react-helmet="true" property="og:description" content="There are several parts inside Metals and Bloop that require resolving"><meta data-react-helmet="true" property="og:image" content="http://scalameta.org/metals/img/scalameta-logo.png"><meta data-react-helmet="true" name="twitter:image" content="http://scalameta.org/metals/img/scalameta-logo.png"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><link data-react-helmet="true" rel="shortcut icon" href="/metals/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="http://scalameta.org/metals/docs/troubleshooting/proxy"><link data-react-helmet="true" rel="alternate" href="http://scalameta.org/metals/docs/troubleshooting/proxy" hreflang="en"><link data-react-helmet="true" rel="alternate" href="http://scalameta.org/metals/docs/troubleshooting/proxy" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/metals/assets/css/styles.6fd03f5c.css">
<link rel="preload" href="/metals/assets/js/runtime~main.6af4a45d.js" as="script">
<link rel="preload" href="/metals/assets/js/main.e43c837f.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/metals/"><img src="/metals/img/scalameta-logo.png" alt="Metals" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/metals/img/scalameta-logo.png" alt="Metals" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Metals</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/metals/docs/">Docs</a><a class="navbar__item navbar__link" href="/metals/blog/">Blog</a><a href="https://github.com/scalameta/metals" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">üåô</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">‚òÄÔ∏è</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/metals/"><img src="/metals/img/scalameta-logo.png" alt="Metals" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/metals/img/scalameta-logo.png" alt="Metals" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Metals</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/metals/docs/">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/metals/blog/">Blog</a></li><li class="menu__list-item"><a href="https://github.com/scalameta/metals" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Text Editors</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/editors/vscode">VS Code</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/editors/vim">Vim</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/editors/sublime">Sublime Text</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/editors/emacs">Emacs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/editors/eclipse">Eclipse</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/editors/online-ides">Online IDEs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/editors/user-configuration">User Configuration</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Build Tools</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/build-tools/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/build-tools/bloop">Bloop</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/build-tools/gradle">Gradle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/build-tools/maven">Maven</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/build-tools/mill">Mill</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/build-tools/sbt">sbt</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Contributing</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/contributors/project-goals">Project Goals</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/contributors/getting-started">Contributing to Metals</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/contributors/updating-website">Contributing to the website</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/contributors/releasing">Making a release</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Integrating with Metals</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/integrations/remote-language-server">Remote Language Servers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/integrations/new-build-tool">Integrating a new build tool</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/integrations/new-editor">Integrating a new editor</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/integrations/tree-view-protocol">Tree View Protocol</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/integrations/decoration-protocol">Decoration Protocol</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/integrations/debug-adapter-protocol">Debug Adapter Protocol</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Troubleshooting</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/metals/docs/troubleshooting/proxy">Proxy and mirrors</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/metals/docs/troubleshooting/faq">Frequently asked questions</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Proxy and mirrors</h1></header><div class="markdown"><p>There are several parts inside Metals and Bloop that require resolving
additional dependencies from the internet. Inside environments behind a proxy or
with private artifact repositories Metals might not be able to start, because it
cannot easily download the needed dependencies.</p><p>There are multiple ways of fixing these issues, but not all of them work in all
situations. While we are trying to make it as painless as possible to setup
everything, there are some steps that might need to be done manually.</p><p>Everything inside Metals uses Coursier to download its dependencies:</p><ul><li>The Visual Studio Code and coc-metals extensions use Coursier bootstrap to
download Metals server - Coursier boostrap is a minimal file, which only
purpose is to download a full Coursier version. It&#x27;s used to keep the
extension size down to a minimum.</li><li>Metals uses Coursier api to download dependencies needed for a particular
Scala version</li><li>Bloop uses Coursier api to download the SemanticDB plugin</li></ul><p>You can find some more information about particular topics on
<a href="https://get-coursier.io/docs/overview" target="_blank" rel="noopener noreferrer">Coursier&#x27;s website</a>, but we will try to
summarize the most useful solutions here.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="mirrors"></a>Mirrors<a class="hash-link" href="#mirrors" title="Direct link to heading">#</a></h2><p>If Maven Central is not available for your workspace it might be best to use
Coursier&#x27;s mirrors. Especially since Coursier boostrap tries to download the
core of Coursier from Maven Central directly, which can only be changed using
the mirrors. Not all functionalities are yet available for the boostrapped
Coursier version, including custom repositories, so mirrors are really the only
way to fix this.</p><p>There are different ways to setup mirrors:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="via-global-properties-file"></a>Via global properties file<a class="hash-link" href="#via-global-properties-file" title="Direct link to heading">#</a></h3><p>Create <code>mirror.properties</code> file with the contents:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">central.from=https://repo1.maven.org/maven2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">central.to=http://exmaple.com:8080/nexus/content/groups/public</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>You need to replace the uri after <code>central.to=</code> with your private repository.</p><p>The location of the mirror file varies depending on the operating system:</p><ul><li>Windows:
<code>C:\Users\&lt;user_name&gt;\AppData\Roaming\Coursier\config\mirror.properties</code></li><li>Linux: <code>~/.config/coursier/mirror.properties</code></li><li>MacOS: <code>~/Library/Preferences/Coursier/mirror.properties</code></li></ul><p>This solution will work in most cases for all previously mentioned usages of
Coursier, which is especially important in the case of the Bloop server, which
when started by Metals will not have any system properties forwarded.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="via-environment-variable"></a>Via environment variable<a class="hash-link" href="#via-environment-variable" title="Direct link to heading">#</a></h3><p>You can set the environment variable <code>COURSIER_MIRRORS</code> with the location of the
file containing the mirror definition. That environment variable will need to
available either locally or globally for the Metals server. In case of the
Visual Studio Code extension it means you will need to start it from command
line with that variable in scope.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="via-properties"></a>Via properties<a class="hash-link" href="#via-properties" title="Direct link to heading">#</a></h3><p>You can also use properties to specify the location of the mirror file, for
example:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">-Dcoursier.mirrors=~/.config/coursier/mirror.properties</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>This property needs to be added to the Metals server and Coursier invocation.
However, this solution will not work for Bloop, because properties are not
forwarded to the invocation of the Bloop server. You will need to use a
different method for Bloop in this case or you can run the build server manually
with everything specified separately.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="custom-artifact-repositories-maven-or-ivy-resolvers"></a>Custom artifact repositories (Maven or Ivy resolvers)<a class="hash-link" href="#custom-artifact-repositories-maven-or-ivy-resolvers" title="Direct link to heading">#</a></h2><p>In case you need to add custom repositories to resolve Metals server artifacts
you can use the <code>COURSIER_REPOSITORIES</code> environment variable. This will tell
Coursier to try to download artifacts from your private artifact repository.
This is also available as a setting in the Metals Visual Studio Code and
coc-metals extensions.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="proxy-settings"></a>Proxy settings<a class="hash-link" href="#proxy-settings" title="Direct link to heading">#</a></h2><p>In some cases, workspaces might require a proxy in order to resolve the needed
artifacts. Depending on the way Metals server is started, proxy settings can be
specified using properties inside a <code>.jvmopts</code> file and
<code>metals.serverProperties</code> (for Visual Studio Code or coc-metals extensions) or
via properties for Coursier and Metals invocations.</p><p>However, because proxy properties might vary between workspaces and a Bloop
server must work for multiple clients at the same time they are not forwarded to
the Bloop itself. To make sure that Bloop uses the correct proxy settings, you
can specify them by copying the correct <code>.jvmopts</code> file to the <code>~/.bloop</code>
directory, which will make them global.</p><p>If you are using a manually installed Bloop server, each time you run <code>bloop</code>
from commandline, the proxy settings will be reapplied according to the current
workspace&#x27;s <code>.jvmopts</code>. This should not be an issue, since those settings are
required only to download the compiler bridges and SemanticDB plugin.</p><p><strong>Important</strong> Each setting needs to be on a separate line.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="troubleshooting"></a>Troubleshooting<a class="hash-link" href="#troubleshooting" title="Direct link to heading">#</a></h2><p>There has already been a couple of issues surrounding this topic, if you are
still having issues you can take a look at some of them:</p><ul><li><a href="https://github.com/scalameta/metals/issues/1315" target="_blank" rel="noopener noreferrer">https://github.com/scalameta/metals/issues/1315</a></li><li><a href="https://github.com/scalameta/metals/issues/1301" target="_blank" rel="noopener noreferrer">https://github.com/scalameta/metals/issues/1301</a></li><li><a href="https://github.com/scalameta/metals/issues/1306" target="_blank" rel="noopener noreferrer">https://github.com/scalameta/metals/issues/1306</a></li><li><a href="https://github.com/scalameta/metals/issues/1362" target="_blank" rel="noopener noreferrer">https://github.com/scalameta/metals/issues/1362</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="the-server-did-not-start-got-failedtoopenbspconnection"></a>The server did not start, got FailedToOpenBspConnection<a class="hash-link" href="#the-server-did-not-start-got-failedtoopenbspconnection" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">error: The command bsp --protocol tcp --port 44559 returned with an error</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">error: The launcher failed to establish a bsp connection, aborting...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ERROR Failed to connect with build server, no functionality will work.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">java.lang.RuntimeException: The server did not start, got FailedToOpenBspConnection</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    at bloop.launcher.LauncherMain.failPromise$1(Launcher.scala:92)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    at bloop.launcher.LauncherMain.runLauncher(Launcher.scala:119)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    at scala.meta.internal.metals.BloopServers$$anon$1.run(BloopServers.scala:101)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    at java.util.concurrent.FutureTask.run(FutureTask.java:264)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    at java.lang.Thread.run(Thread.java:834)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Exception in thread &quot;bloop-server-background&quot; java.io.IOException: Cannot run program &quot;java&quot; (in directory &quot;&lt;some path here ...&gt;&quot;): error=2, No such file or directory</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        at java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>This might mean that you don&#x27;t have your java installation on your PATH and
Bloop was unable to start.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="timeout-waiting-for-buildinitialize-response"></a>Timeout waiting for &#x27;build/initialize&#x27; response<a class="hash-link" href="#timeout-waiting-for-buildinitialize-response" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">INFO  tracing is disabled for protocol BSP, to enable tracing of incoming and outgoing JSON messages create an empty file at C:\Users\tgodzik\AppData\Local\scalameta\metals\cache\bsp.trace.json</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ERROR Timeout waiting for &#x27;build/initialize&#x27; response</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ERROR Failed to connect with build server, no functionality will work.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">java.util.concurrent.TimeoutException</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    at java.util.concurrent.CompletableFuture.timedGet(CompletableFuture.java:1886)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2021)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    at scala.meta.internal.metals.BuildServerConnection$.initialize(BuildServerConnection.scala:259)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    at scala.meta.internal.metals.BuildServerConnection$.$anonfun$fromSockets$1(BuildServerConnection.scala:203)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    at scala.util.Success.$anonfun$map$1(Try.scala:255)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    at scala.util.Success.map(Try.scala:213)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    at scala.concurrent.Future.$anonfun$map$1(Future.scala:292)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    at scala.concurrent.impl.Promise.liftedTree1$1(Promise.scala:33)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    at scala.concurrent.impl.Promise.$anonfun$transform$1(Promise.scala:33)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    at java.lang.Thread.run(Thread.java:834)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">WARN  Stopped configuration of SemanticDB in Scala 2.13.1 projects: Error downloading org.scalameta:semanticdb-scalac_2.13.1:4.3.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  not found: C:\Users\tgodzik\.ivy2\local\org.scalameta\semanticdb-scalac_2.13.1\4.3.0\ivys\ivy.xml</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  download error: Caught java.net.ConnectException: Connection timed out: connect (Connection timed out: connect) while downloading https://repo1.maven.org/maven2/org/scalameta/semanticdb-scalac_2.13.1/4.3.0/semanticdb-scalac_2.13.1-4.3.0.pom</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  not found: https://dl.bintray.com/scalacenter/releases/org/scalameta/semanticdb-scalac_2.13.1/4.3.0/semanticdb-scalac_2.13.1-4.3.0.pom</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>This might mean you need to specify proxy settings for Bloop or add custom
repositories as specified above.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="mirrors-still-do-not-work-for-all-dependencies"></a>Mirrors still do not work for all dependencies<a class="hash-link" href="#mirrors-still-do-not-work-for-all-dependencies" title="Direct link to heading">#</a></h3><p>In some specific configurations it might be needed to define additional mirrors
like:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">jcenter.from=https://repo1.maven.org/maven2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">jcenter.to=https://artifactory.mycomany.com/maven2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">typesafe.from=https://repo.typesafe.com/typesafe/ivy-releases</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">typesafe.to=https://artifactory.mycompany.com/typesafe-ivy-releases/</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The number of repositories to add depends on how the company&#x27;s infrastructure is
set up. The key is to keep adding mirror entries until you&#x27;ve fixed each resolve
error. In case of sbt you can find out what the repos are named like
typesafe.from|to by checking
<a href="https://www.scala-sbt.org/1.x/docs/Resolvers.html#Predefined+resolvers" target="_blank" rel="noopener noreferrer">the official documentation</a>
and any custom resolvers your workspace has defined.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/scalameta/metals/edit/main/docs/target/docs/troubleshooting/proxy.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/metals/docs/integrations/debug-adapter-protocol"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ Debug Adapter Protocol</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/metals/docs/troubleshooting/faq"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Frequently asked questions ¬ª</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#mirrors" class="table-of-contents__link">Mirrors</a><ul><li><a href="#via-global-properties-file" class="table-of-contents__link">Via global properties file</a></li><li><a href="#via-environment-variable" class="table-of-contents__link">Via environment variable</a></li><li><a href="#via-properties" class="table-of-contents__link">Via properties</a></li></ul></li><li><a href="#custom-artifact-repositories-maven-or-ivy-resolvers" class="table-of-contents__link">Custom artifact repositories (Maven or Ivy resolvers)</a></li><li><a href="#proxy-settings" class="table-of-contents__link">Proxy settings</a></li><li><a href="#troubleshooting" class="table-of-contents__link">Troubleshooting</a><ul><li><a href="#the-server-did-not-start-got-failedtoopenbspconnection" class="table-of-contents__link">The server did not start, got FailedToOpenBspConnection</a></li><li><a href="#timeout-waiting-for-buildinitialize-response" class="table-of-contents__link">Timeout waiting for &#39;build/initialize&#39; response</a></li><li><a href="#mirrors-still-do-not-work-for-all-dependencies" class="table-of-contents__link">Mirrors still do not work for all dependencies</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Overview</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/metals/docs/overview/editor-support">Overview</a></li><li class="footer__item"><a class="footer__link-item" href="/metals/docs/build-tools/overview">Build Tools</a></li><li class="footer__item"><a class="footer__link-item" href="/metals/docs/contributors/project-goals">Project Goals</a></li><li class="footer__item"><a class="footer__link-item" href="/metals/docs/contributors/getting-started">Contributing</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/scalameta/metals" target="_blank">
                      <img src="https://img.shields.io/github/stars/scalameta/metals.svg?color=%23087e8b&label=stars&logo=github&style=social">
                    </a></li><li class="footer__item"><a href="https://discord.gg/RFpSVth" target="_blank">
                      <img src="https://img.shields.io/discord/632642981228314653?logo=discord&style=social">
                    </a></li><li class="footer__item"><a href="https://gitter.im/scalameta/metals" target="_blank">
                      <img src="https://img.shields.io/gitter/room/scalameta/metals.svg?logo=gitter&style=social">
                    </a></li><li class="footer__item"><a href="https://twitter.com/scalameta" target="_blank">
                      <img src="https://img.shields.io/twitter/follow/scalameta.svg?logo=twitter&style=social">
                    </a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/metals/img/scalameta-logo.png" alt="" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/metals/img/scalameta-logo.png" alt="" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></div><div class="footer__copyright">Copyright ¬© 2021 Metals</div></div></div></footer></div>
<script src="/metals/assets/js/runtime~main.6af4a45d.js"></script>
<script src="/metals/assets/js/main.e43c837f.js"></script>
</body>
</html>