<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/metals/blog/rss.xml" title="Metals Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/metals/blog/atom.xml" title="Metals Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-140140828-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-140140828-1",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Metals" href="/metals/opensearch.xml"><title data-react-helmet="true">Integrating a new editor | Metals</title><meta data-react-helmet="true" property="og:url" content="http://scalameta.org/metals/docs/integrations/new-editor"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Integrating a new editor | Metals"><meta data-react-helmet="true" name="description" content="Metals is a language server implemented in Scala that communicates with a single"><meta data-react-helmet="true" property="og:description" content="Metals is a language server implemented in Scala that communicates with a single"><meta data-react-helmet="true" property="og:image" content="http://scalameta.org/metals/img/scalameta-logo.png"><meta data-react-helmet="true" name="twitter:image" content="http://scalameta.org/metals/img/scalameta-logo.png"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><link data-react-helmet="true" rel="shortcut icon" href="/metals/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="http://scalameta.org/metals/docs/integrations/new-editor"><link data-react-helmet="true" rel="alternate" href="http://scalameta.org/metals/docs/integrations/new-editor" hreflang="en"><link data-react-helmet="true" rel="alternate" href="http://scalameta.org/metals/docs/integrations/new-editor" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/metals/assets/css/styles.b22481d4.css">
<link rel="preload" href="/metals/assets/js/runtime~main.92fbb49b.js" as="script">
<link rel="preload" href="/metals/assets/js/main.eb025133.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/metals/"><img src="/metals/img/scalameta-logo.png" alt="Metals" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/metals/img/scalameta-logo.png" alt="Metals" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">Metals</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/metals/docs/">Docs</a><a class="navbar__item navbar__link" href="/metals/blog/">Blog</a><a href="https://github.com/scalameta/metals" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle displayOnlyInLargeViewport_cxYs react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_iYfV">üåô</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">‚òÄÔ∏è</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/metals/"><img src="/metals/img/scalameta-logo.png" alt="Metals" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/metals/img/scalameta-logo.png" alt="Metals" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">Metals</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/metals/docs/">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/metals/blog/">Blog</a></li><li class="menu__list-item"><a href="https://github.com/scalameta/metals" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_lDyR"><div class="docSidebarContainer_0YBq" role="complementary"><div class="sidebar_a3j0"><div class="menu menu--responsive thin-scrollbar menu_cyFh"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_iZzd" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Text Editors</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/editors/vscode">VS Code</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/editors/vim">Vim</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/editors/sublime">Sublime Text</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/editors/emacs">Emacs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/editors/eclipse">Eclipse</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/editors/online-ides">Online IDEs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/editors/user-configuration">User Configuration</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Build Tools</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/build-tools/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/build-tools/bloop">Bloop</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/build-tools/gradle">Gradle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/build-tools/maven">Maven</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/build-tools/mill">Mill</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/build-tools/sbt">sbt</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Contributing</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/contributors/project-goals">Project Goals</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/contributors/getting-started">Contributing to Metals</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/contributors/updating-website">Contributing to the website</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/contributors/releasing">Making a release</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Integrating with Metals</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/metals/docs/integrations/remote-language-server">Remote Language Servers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/metals/docs/integrations/new-build-tool">Integrating a new build tool</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/metals/docs/integrations/new-editor">Integrating a new editor</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/metals/docs/integrations/tree-view-protocol">Tree View Protocol</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/metals/docs/integrations/decoration-protocol">Decoration Protocol</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/metals/docs/integrations/debug-adapter-protocol">Debug Adapter Protocol</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Troubleshooting</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/troubleshooting/proxy">Proxy and mirrors</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metals/docs/troubleshooting/faq">Frequently asked questions</a></li></ul></li></ul></div></div></div><main class="docMainContainer_r8cw"><div class="container padding-vert--lg docItemWrapper_NJLN"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><header><h1 class="docTitle_-X99">Integrating a new editor</h1></header><div class="markdown"><p>Metals is a language server implemented in Scala that communicates with a single
client over <a href="https://www.jsonrpc.org/specification" target="_blank" rel="noopener noreferrer">JSON-RPC</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="requirements"></a>Requirements<a class="hash-link" href="#requirements" title="Direct link to heading">#</a></h2><p><strong>Java 8, 11, 17 provided by OpenJDK or Oracle</strong>. Eclipse OpenJ9 is not
supported, please make sure the <code>JAVA_HOME</code> environment variable
points to a valid Java 8, 11 or 17 installation.</p><p><strong>macOS, Linux or Windows</strong>. Metals is developed on many operating systems and
every PR is tested on Ubuntu, Windows and MacOS.</p><p><strong>Scala 2.13, 2.12, 2.11 and Scala 3</strong>. Metals supports these Scala versions:</p><ul><li><p><strong>Scala 2.13</strong>:
2.13.7, 2.13.6, 2.13.5, 2.13.4, 2.13.3, 2.13.2, 2.13.1, 2.13.0</p></li><li><p><strong>Scala 2.12</strong>:
2.12.15, 2.12.14, 2.12.13, 2.12.12, 2.12.11, 2.12.10, 2.12.9, 2.12.8</p></li><li><p><strong>Scala 2.11</strong>:
2.11.12</p></li><li><p><strong>Scala 3</strong>:
3.1.1-RC1, 3.1.0, 3.0.2, 3.0.1, 3.0.0</p></li></ul><p>Note that 2.11.x support is deprecated and it will be removed in future releases.
It&#x27;s recommended to upgrade to Scala 2.12 or Scala 2.13</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="starting-the-server"></a>Starting the server<a class="hash-link" href="#starting-the-server" title="Direct link to heading">#</a></h2><p>Use <a href="https://github.com/coursier/coursier" target="_blank" rel="noopener noreferrer">Coursier</a> to obtain the JVM classpath
of Metals:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI sh"><div tabindex="0" class="prism-code language-sh codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">coursier bootstrap org.scalameta:metals_2.12:0.10.9+82-9c2a8b90-SNAPSHOT -o metals -f</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>(optional) It&#x27;s recommended to enable JVM string de-duplication and provide a
generous stack size and memory options.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI sh"><div tabindex="0" class="prism-code language-sh codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">coursier bootstrap \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  --java-opt -XX:+UseG1GC \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  --java-opt -XX:+UseStringDeduplication  \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  --java-opt -Xss4m \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  --java-opt -Xms100m \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  org.scalameta:metals_2.12:0.10.9+82-9c2a8b90-SNAPSHOT -o metals -f</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>See <a href="#metals-server-properties">Metals server properties</a> for additional system
properties that are supported by the server.</p><p>JSON-RPC communication takes place over standard input/output so the Metals
server doesn&#x27;t print anything to the console when it starts. Instead, before
establishing a connection with the client, Metals logs notifications to a global
directory:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI sh"><div tabindex="0" class="prism-code language-sh codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># macOS</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">~/Library/Caches/org.scalameta.metals/global.log</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Linux</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$XDG_CACHE_HOME/org.scalameta.metals/global.log</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Linux (alternative)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$HOME/.cache/org.scalameta.metals/global.log</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Windows</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{FOLDERID_LocalApplicationData}\.cache\org.scalameta.metals\global.log</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>After establishing a connection with the client, Metals redirects logs to the
<code>.metals/metals.log</code> file in the LSP workspace root directory.</p><p>Metals supports two kinds of JSON-RPC endpoints:</p><ul><li><a href="#language-server-protocol">Language Server Protocol</a>: for the main
functionality of the server, including editor text synchronization and
semantic features such as goto definition.</li><li><a href="#metals-lsp-extensions">Metals extensions</a>: for additional functionality that
is missing in LSP but improves the user experience.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="configuring-the-server"></a>Configuring the server<a class="hash-link" href="#configuring-the-server" title="Direct link to heading">#</a></h2><p>Over time the recommended way to configure Metals has shifted from heavily
relying on the <a href="#metals-server-properties">Metals server properties</a> to being
fully able to be configured via <code>InitializationOptions</code> which are exchanged
during the
<a href="https://microsoft.github.io/language-server-protocol/specification#initialize" target="_blank" rel="noopener noreferrer"><code>initialize</code></a>
process. While Metals will still work being fully configured by server
properties, we strongly recommend that instead you rely on the
<code>InitializationOptions</code> which are thoroughly covered below in the
[<code>initialize</code>](#initialize] section.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="language-server-protocol"></a>Language Server Protocol<a class="hash-link" href="#language-server-protocol" title="Direct link to heading">#</a></h2><p>Consult the
<a href="https://microsoft.github.io/language-server-protocol/specification" target="_blank" rel="noopener noreferrer">LSP specification</a>
to learn more more how LSP works. Metals uses the following endpoints from the
specification.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="initialize"></a><code>initialize</code><a class="hash-link" href="#initialize" title="Direct link to heading">#</a></h3><ul><li>the <code>rootUri</code> field is used to configure Metals for that workspace directory.
The working directory for where server is started has no significant meaning.</li><li>at this point, Metals uses only full text synchronization. In the future, it
will be able to use incremental text synchronization.</li><li><code>didChangeWatchedFiles</code> client capability is used to determine whether to
register file watchers.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="initializationoptions"></a><code>InitializationOptions</code><a class="hash-link" href="#initializationoptions" title="Direct link to heading">#</a></h4><p>During <code>initialize</code> we also have the ability to pass in <code>InitializationOptions</code>.
This is the primary way to configure Metals. In Metals we have a few different
&quot;providers&quot;. Some are LSP extensions, such as <code>metals/inputBox</code> which you read
about below, and others used to be server properties that have been migrated to
<code>InitializationOptions</code>. M</p><p>The currently available settings for <code>InitializationOptions</code> are listed below.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI js"><div tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;InitializationOptions&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;compilerOptions&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;completionCommand&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;isCompletionItemDetailEnabled&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;isCompletionItemDocumentationEnabled&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;isCompletionItemResolve&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;isHoverDocumentationEnabled&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;isSignatureHelpDocumentationEnabled&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;overrideDefFormat&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ascii&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;unicode&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;parameterHintsCommand&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;snippetAutoIndent&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;copyWorksheetOutputProvider&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;debuggingProvider&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;decorationProvider&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;didFocusProvider&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;disableColorOutput&quot;</span><span class="token plain"> boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;doctorProvider&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;json&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;html&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;executeClientCommandProvider&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;globSyntax&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;vscode&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;uri&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;icons&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;octicons&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;vscode&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;unicode&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;inlineDecorationProvider&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;inputBoxProvider&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;isExitOnShutdown&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;isHttpEnabled&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;isCommandInHtmlSupported&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;openFilesOnRenameProvider&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;openNewWindowProvider&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;quickPickProvider&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;renameFileThreshold&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;slowTaskProvider&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;statusBarProvider&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;on&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;off&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;show-message&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;log-message&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;treeViewProvider&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> boolean</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>You can also always check these in the
<a href="https://github.com/scalameta/metals/blob/main/metals/src/main/scala/scala/meta/internal/metals/InitializationOptions.scala" target="_blank" rel="noopener noreferrer"><code>InitializationOptions.scala</code></a>
file where you&#x27;ll find all of the options and descriptions.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="compileroptionscompletioncommand"></a><code>compilerOptions.completionCommand</code><a class="hash-link" href="#compileroptionscompletioncommand" title="Direct link to heading">#</a></h5><p>An optional string value for a command identifier to trigger completion
(<code>textDocument/signatureHelp</code>) in the editor.</p><p>Possible values:</p><ul><li><code>&quot;editor.action.triggerSuggest&quot;</code>: currently used by Visual Studio Code and
coc.nvim.</li><li>empty: for all other editors.</li></ul><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="compileroptionsiscompletionitemdetailenabled"></a><code>compilerOptions.isCompletionItemDetailEnabled</code><a class="hash-link" href="#compileroptionsiscompletionitemdetailenabled" title="Direct link to heading">#</a></h5><p>Boolean value signifying whether or not the <code>CompletionItem.detail</code> field should
be populated.</p><p>Default value: <code>true</code></p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="compileroptionsiscompletionitemdocumentationenabled"></a><code>compilerOptions.isCompletionItemDocumentationEnabled</code><a class="hash-link" href="#compileroptionsiscompletionitemdocumentationenabled" title="Direct link to heading">#</a></h5><p>Boolean value signifying whether or not the <code>CompletionItem.documentation</code> field
should be populated.</p><p>Default value: <code>true</code></p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="compileroptionsiscompletionitemresolve"></a><code>compilerOptions.isCompletionItemResolve</code><a class="hash-link" href="#compileroptionsiscompletionitemresolve" title="Direct link to heading">#</a></h5><p>Boolean value signifying whether the client wants Metals to handle the
<code>completionItem/resolve</code> request.</p><p><a href="https://microsoft.github.io/language-server-protocol/specification#completionItem_resolve" target="_blank" rel="noopener noreferrer">https://microsoft.github.io/language-server-protocol/specification#completionItem_resolve</a></p><p>Default value: <code>true</code></p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="compileroptionsishoverdocumentationenabled"></a><code>compilerOptions.isHoverDocumentationEnabled</code><a class="hash-link" href="#compileroptionsishoverdocumentationenabled" title="Direct link to heading">#</a></h5><p>Boolean value signifying whether to include docstrings in a <code>textDocument/hover</code>
request.</p><p>Default value: <code>true</code></p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="compileroptionsissignaturehelpdocumentationenabled"></a><code>compilerOptions.isSignatureHelpDocumentationEnabled</code><a class="hash-link" href="#compileroptionsissignaturehelpdocumentationenabled" title="Direct link to heading">#</a></h5><p>Boolean value signifying whether or not the <code>SignatureHelp.documentation</code> field
should be populated.</p><p>Default value: <code>true</code></p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="compileroptionsoverridedefformat"></a><code>compilerOptions.overrideDefFormat</code><a class="hash-link" href="#compileroptionsoverridedefformat" title="Direct link to heading">#</a></h5><p>Whether or not the presentation compiler overrides should show unicode icon or
just be in ascii format.</p><p>Possible Values:</p><ul><li><code>&quot;ascii&quot;</code> (default)</li><li><code>unicode</code> show the &quot;üîº&quot; icon in overrides.</li></ul><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="compileroptionsparameterhintscommand"></a><code>compilerOptions.parameterHintsCommand</code><a class="hash-link" href="#compileroptionsparameterhintscommand" title="Direct link to heading">#</a></h5><p>An optional string value for a command identifier to trigger parameter hints
(<code>textDocument/signatureHelp</code>) in the editor. Metals uses this setting to
populate <code>CompletionItem.command</code> for completion items that move the cursor
inside an argument list. For example, when completing <code>&quot;&quot;.stripSu@@</code> into
<code>&quot;&quot;.stripSuffix(@@)</code>, Metals will automatically trigger parameter hints if this
setting is provided by the editor.</p><p>Possible values:</p><ul><li><code>&quot;editor.action.triggerParameterHints&quot;</code>: Used by Visual Studio Code and
coc.nvim.</li><li>empty: for all other editors.</li></ul><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="compileroptionssnippetautoindent"></a><code>compilerOptions.snippetAutoIndent</code><a class="hash-link" href="#compileroptionssnippetautoindent" title="Direct link to heading">#</a></h5><p>Certain editors will automatically insert indentation equal to that of the
reference line that the operation started on. This is relevant in the case of
multiline textEdits such as the &quot;implement all methods&quot; completion.</p><p>Possible values:</p><ul><li><code>on</code>: (default): the client automatically adds in the indentation. This is the
case for VS Code, Sublime, and coc.nvim.</li><li><code>off</code>: the client does not add any indentation when receiving a multi-line
textEdit</li></ul><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="copyworksheetoutputprovider"></a><code>copyWorksheetOutputProvider</code><a class="hash-link" href="#copyworksheetoutputprovider" title="Direct link to heading">#</a></h5><p>Boolean value signifying whether or not the client supports running
CopyWorksheetOutput server command and copying it&#x27;s results into the local
buffer.</p><p>Default value: <code>false</code></p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="debuggingprovider"></a><code>debuggingProvider</code><a class="hash-link" href="#debuggingprovider" title="Direct link to heading">#</a></h5><p>Boolean value to signify that the client supports the
<a href="/metals/docs/integrations/debug-adapter-protocol">Debug Adapter Protocol</a>.</p><p>Default value: <code>false</code></p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="decorationprovider"></a><code>decorationProvider</code><a class="hash-link" href="#decorationprovider" title="Direct link to heading">#</a></h5><p>Boolean value to signify that the client supports the
<a href="/metals/docs/integrations/decoration-protocol">Decoration Protocol</a>.</p><p>Default value: <code>false</code></p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="didfocusprovider"></a><code>didFocusProvider</code><a class="hash-link" href="#didfocusprovider" title="Direct link to heading">#</a></h5><p>Boolean value to signify that the client supports the
<a href="#metalsdidfocustextdocument"><code>metals/didFocusTextDocument</code></a> extension.</p><p>Default value: <code>false</code></p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="disablecoloroutput"></a><code>disableColorOutput</code><a class="hash-link" href="#disablecoloroutput" title="Direct link to heading">#</a></h5><p>Useful for certain DAP clients that are unable to handle color codes for output.
This will remove the color codes coming from whatever DAP server is currently
being used.</p><p>Default value: <code>false</code></p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="doctorprovider"></a><code>doctorProvider</code><a class="hash-link" href="#doctorprovider" title="Direct link to heading">#</a></h5><p>Format that you&#x27;d like Doctor to return information in.</p><p>Possible values:</p><ul><li><code>html</code>: (default): Metals will return html that can be rendered directly in
the browser or web view</li><li><code>json</code>: json representation of the information returned by Doctor</li></ul><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="executeclientcommandprovider"></a><code>executeClientCommandProvider</code><a class="hash-link" href="#executeclientcommandprovider" title="Direct link to heading">#</a></h5><p>Possible values:</p><ul><li><code>off</code> (default): the <code>metals/executeClientCommand</code> notification is not
supported. Client commands can still be handled by enabling
<code>-Dmetals.http=on</code>.</li><li><code>on</code>: the <code>metals/executeClientCommand</code> notification is supported and all
<a href="#metals-client-commands">Metals client commands</a> are handled.</li></ul><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="globsyntax"></a><code>globSyntax</code><a class="hash-link" href="#globsyntax" title="Direct link to heading">#</a></h5><p>Controls the glob syntax for registering file watchers on absolute directories.
Registration happens via <code>client/registerCapability</code> for the
<a href="#workspacedidchangewatchedfiles"><code>workspace/didChangeWatchedFiles</code></a> method, if
the editor client supports it.</p><p>Possible values:</p><ul><li><code>uri</code> (default): URI-encoded file paths, with forward slash <code>/</code> for file
separators regardless of the operating system. Includes <code>file://</code> prefix.</li><li><code>vscode</code>: use regular Path.toString for the absolute directory parts (<code>/</code> on
macOS+Linux and <code>\</code> on Windows) and forward slashes <code>/</code> for relative parts.
For example, <code>C:\Users\IEUser\workspace\project/*.{scala,sbt,properties}</code>.
This mode is used by the VS Code client.</li></ul><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="inlinedecorationprovider"></a><code>inlineDecorationProvider</code><a class="hash-link" href="#inlinedecorationprovider" title="Direct link to heading">#</a></h5><p>If the client implements the Metals Decoration Protocol <strong>and</strong> supports
decorations to be shown inline and not only at the end of a line.</p><p>Default: <code>false</code></p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="icons"></a><code>icons</code><a class="hash-link" href="#icons" title="Direct link to heading">#</a></h5><p>Possible values:</p><ul><li><code>none</code> (default): don&#x27;t display icons in messages.</li><li><code>vscode</code>: use <a href="https://octicons.github.com" target="_blank" rel="noopener noreferrer">Octicons</a> such as <code>$(rocket)</code> for
status bar messages, as supported by th
<a href="https://code.visualstudio.com/docs/extensionAPI/vscode-api#StatusBarItem" target="_blank" rel="noopener noreferrer">VS Code status bar</a>.</li><li><code>unicode</code>: use unicode emojis like üöÄ for status bar messages.</li></ul><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="inputboxprovider"></a><code>inputBoxProvider</code><a class="hash-link" href="#inputboxprovider" title="Direct link to heading">#</a></h5><p>Possible values:</p><ul><li><code>off</code> (default): the <code>metals/inputBox</code> request is not supported. In this case,
Metals tries to fallback to <code>window/showMessageRequest</code> when possible.</li><li><code>on</code>: the <code>metals/inputBox</code> request is fully supported.</li></ul><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="isexitonshutdown"></a><code>isExitOnShutdown</code><a class="hash-link" href="#isexitonshutdown" title="Direct link to heading">#</a></h5><p>Possible values:</p><ul><li><code>off</code> (default): run <code>System.exit</code> only on the <code>exit</code> notification, as
required by the LSP specification.</li><li><code>on</code>: run <code>System.exit</code> after the <code>shutdown</code> request, going against the LSP
specification. This option is enabled by default for Sublime Text to prevent
the Metals process from staying alive after Sublime Text has quit with
<code>Cmd+Q</code>. It&#x27;s not possible for Sublime Text packages to register a callback
when the editor has quit. See
<a href="https://github.com/tomv564/LSP/issues/410" target="_blank" rel="noopener noreferrer">LSP#410</a> for more details.</li></ul><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="ishttpenabled"></a><code>isHttpEnabled</code><a class="hash-link" href="#ishttpenabled" title="Direct link to heading">#</a></h5><p>Possible values:</p><ul><li><code>off</code> (default): don&#x27;t start a server with the Metals HTTP client.</li><li><code>on</code>: start a server with the [Metals HTTP client] to interact with the server
through a basic web UI. This option is needed for editor clients that don&#x27;t
support necessary requests such as <code>window/showMessageRequest</code>.</li></ul><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="openfilesonrenameprovider"></a><code>openFilesOnRenameProvider</code><a class="hash-link" href="#openfilesonrenameprovider" title="Direct link to heading">#</a></h5><p>Boolean value to signify whether or not the client opens files when doing a
rename.</p><p>Default: <code>false</code></p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="opennewwindowprovider"></a><code>openNewWindowProvider</code><a class="hash-link" href="#opennewwindowprovider" title="Direct link to heading">#</a></h5><p>Boolean value signifying whether or not the client supports opening up a new
window with the newly created project. Used in conjunction with the New Project
Provider.</p><p>Default value: <code>false</code></p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="quickpickprovider"></a><code>quickPickProvider</code><a class="hash-link" href="#quickpickprovider" title="Direct link to heading">#</a></h5><p>Boolean value to signify whether or not the client implements the
<a href="#metalsquickpick"><code>metals/quickPick</code></a> extensions.</p><p>Default value: <code>false</code></p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="renamefilethreshold"></a><code>renameFileThreshold</code><a class="hash-link" href="#renamefilethreshold" title="Direct link to heading">#</a></h5><p>The max amount of files that you would like the client to open if the client is
a <code>openFilesOnRenameProvider</code>.</p><p>Default value: <code>300</code></p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="slowtaskprovider"></a><code>slowTaskProvider</code><a class="hash-link" href="#slowtaskprovider" title="Direct link to heading">#</a></h5><p>Possible values:</p><ul><li><code>off</code> (default): the <code>metals/slowTask</code> request is not supported.</li><li><code>on</code>: the <code>metals/slowTask</code> request is fully supported.</li><li><code>status-bar</code>: the <code>metals/slowTask</code> request is not supported, but send updates
about slow tasks via <code>metals/status</code>.</li></ul><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="statusbarprovider"></a><code>statusBarProvider</code><a class="hash-link" href="#statusbarprovider" title="Direct link to heading">#</a></h5><p>Possible values:</p><ul><li><code>off</code> (default): the <code>metals/status</code> notification is not supported.</li><li><code>on</code>: the <code>metals/status</code> notification is supported.</li><li><code>log-message</code>: translate <code>metals/status</code> notifications to <code>window/logMessage</code>
notifications.</li><li><code>show-message</code>: translate <code>metals/status</code> notifications to
<code>window/showMessage</code> show notifications however the client displays messages
to the user.</li></ul><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="treeviewprovider"></a><code>treeViewProvider</code><a class="hash-link" href="#treeviewprovider" title="Direct link to heading">#</a></h5><p>Boolean value signifying whether or not the client supports the
<a href="/metals/docs/integrations/tree-view-protocol">Tree View Protocol</a>.</p><p>Default value: <code>false</code></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="experimental-capabilities"></a>Experimental Capabilities<a class="hash-link" href="#experimental-capabilities" title="Direct link to heading">#</a></h4><p>All of the features that used to be set with <code>experimental</code> can now all be set
via <code>InitializationOptions</code>. This is the preferred way to configure Metals.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="initialized"></a><code>initialized</code><a class="hash-link" href="#initialized" title="Direct link to heading">#</a></h3><p>Triggers build server initialization and workspace indexing. The <code>initialized</code>
notification is critical for any Metals functionality to work.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="shutdown"></a><code>shutdown</code><a class="hash-link" href="#shutdown" title="Direct link to heading">#</a></h3><p>It is very important that the client sends a shutdown request in order for
Metals to clean up open resources.</p><ul><li>persists incremental compilation analysis files. Without a <code>shutdown</code> hook,
Metals will need to re-compile the entire workspace on next startup.</li><li>stops ongoing processes such as <code>sbt bloopInstall</code></li><li>closes database connections</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="exit"></a><code>exit</code><a class="hash-link" href="#exit" title="Direct link to heading">#</a></h3><p>Kills the process using <code>System.exit</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="cancelrequest"></a><code>$/cancelRequest</code><a class="hash-link" href="#cancelrequest" title="Direct link to heading">#</a></h3><p>Used by <code>metals/slowTask</code> to notify when a long-running process has finished.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="clientregistercapability"></a><code>client/registerCapability</code><a class="hash-link" href="#clientregistercapability" title="Direct link to heading">#</a></h3><p>If the client declares the <code>workspace.didChangeWatchedFiles</code> capability during
the <code>initialize</code> request, then Metals follows up with a
<code>client/registerCapability</code> request to register file watchers for certain glob
patterns.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="textdocumentdidopen"></a><code>textDocument/didOpen</code><a class="hash-link" href="#textdocumentdidopen" title="Direct link to heading">#</a></h3><p>Triggers compilation in the build server for the build target containing the
opened document. Related, see <code>metals/didFocusTextDocument</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="textdocumentdidchange"></a><code>textDocument/didChange</code><a class="hash-link" href="#textdocumentdidchange" title="Direct link to heading">#</a></h3><p>Required to know the text contents of the current unsaved buffer.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="textdocumentdidclose"></a><code>textDocument/didClose</code><a class="hash-link" href="#textdocumentdidclose" title="Direct link to heading">#</a></h3><p>Cleans up resources.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="textdocumentdidsave"></a><code>textDocument/didSave</code><a class="hash-link" href="#textdocumentdidsave" title="Direct link to heading">#</a></h3><p>Triggers compilation in the build server and analyses if the build needs to be
re-imported.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="textdocumentpublishdiagnostics"></a><code>textDocument/publishDiagnostics</code><a class="hash-link" href="#textdocumentpublishdiagnostics" title="Direct link to heading">#</a></h3><p>Metals forwards diagnostics from the build server to the editor client.
Additionally, Metals publishes <code>Information</code> diagnostics for unexpected
compilation errors when navigating external library sources.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="textdocumentdefinition"></a><code>textDocument/definition</code><a class="hash-link" href="#textdocumentdefinition" title="Direct link to heading">#</a></h3><p>Metals supports goto definition for workspace sources in addition to external
library sources.</p><ul><li>Library sources live under the directory <code>.metals/readonly</code> and they are
marked as read-only to prevent the user from editing them.</li><li>The destination location can either be a Scala or Java source file. It is
recommended to have a Java language server installed to navigate Java sources.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="textdocumentreferences"></a><code>textDocument/references</code><a class="hash-link" href="#textdocumentreferences" title="Direct link to heading">#</a></h3><p>Metals finds symbol references for workspace sources but not external library
dependencies.</p><p>LSP does not support streaming references so when project sources have not been
compiled at the point of a request, Metals returns immediately with potentially
incomplete results and triggers a background cascade compilation to find new
symbol references. If new symbol references are discovered after the background
compilation completes, Metals sends a notification via <code>metals/status</code> and
<code>window/logMessage</code> asking the user to run &quot;find references&quot; again.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="textdocumentdocumentsymbol"></a><code>textDocument/documentSymbol</code><a class="hash-link" href="#textdocumentdocumentsymbol" title="Direct link to heading">#</a></h3><p>Returns <code>DocumentSymbol[]</code> if the client declares support for hierarchical
document symbol or <code>SymbolInformation[]</code> otherwise.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="textdocumentformatting"></a><code>textDocument/formatting</code><a class="hash-link" href="#textdocumentformatting" title="Direct link to heading">#</a></h3><p>Formats the sources with the <a href="https://scalameta.org/scalafmt/" target="_blank" rel="noopener noreferrer">Scalafmt</a> version
that is declared in <code>.scalafmt.conf</code>.</p><ul><li>when <code>.scalafmt.conf</code> is missing, Metals sends a <code>window/showMessageRequest</code>
to create the file.</li><li>when <code>.scalafmt.conf</code> exists but doesn&#x27;t declare a <code>version</code> setting, Metals
sends a <code>metals/inputBox</code> when supported (with fallback to
<code>window/showMessageRequest</code> when unsupported) to prepend <code>version=$VERSION</code> to
the <code>.scalafmt.conf</code> file.</li><li>the first format request is usually slow because Metals needs to download
Scalafmt artifacts from Maven Central. While the download happens, Metals adds
a message in the status bar via <code>metals/status</code> and detailed download progress
information is logged to <code>.metals/metals.log</code>.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="textdocumenthover"></a><code>textDocument/hover</code><a class="hash-link" href="#textdocumenthover" title="Direct link to heading">#</a></h3><p>Returns <code>Hover</code> for specified text document and position - <a href="https://microsoft.github.io/language-server-protocol/specifications/specification-3-17/#textDocument_hover" target="_blank" rel="noopener noreferrer">lsp spec</a>.</p><p>Metals also support an extended version of this method that supports hover for selection range.
The extended stucture of request params is the following:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI ts"><div tabindex="0" class="prism-code language-ts codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:rgb(255, 203, 107)">HoverExtParams</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  textDocument</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">TextDocumentIdentifier</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** Either `position` or `range` should be specified */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  position</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">Position</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  range</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">Range</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="workspacedidchangewatchedfiles"></a><code>workspace/didChangeWatchedFiles</code><a class="hash-link" href="#workspacedidchangewatchedfiles" title="Direct link to heading">#</a></h3><p>Optional. Metals uses a built-in file watcher for critical functionality such as
Goto Definition so it is OK if an editor does not send
<code>workspace/didChangeWatchedFiles</code> notifications.</p><p>Metals listens to <code>workspace/didChangeWatchedFiles</code> notifications from the
editor for nice-to-have but non-critical file watching events. Metals
automatically registers for the following glob patterns if the editor supports
dynamic registration for file watching.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><div tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;watchers&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;globPattern&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;file:///to/workspace/*.sbt&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;globPattern&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;file:///to/workspace/pom.xml&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;globPattern&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;file:///to/workspace/*.sc&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;globPattern&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;file:///to/workspace/*?.gradle&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;globPattern&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;file:///to/workspace/*.gradle.kts&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;globPattern&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;file:///to/workspace/project/*.{scala,sbt}&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;globPattern&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;file:///to/workspace/project/project/*.{scala,sbt}&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;globPattern&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;file:///to/workspace/project/build.properties&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>The editor is responsible for manually watching these file patterns if the
editor does not support dynamic file watching registration but can still send
<code>workspace/didChangeWatchedFiles</code> notifications.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="workspaceexecutecommands"></a><code>workspace/executeCommands</code><a class="hash-link" href="#workspaceexecutecommands" title="Direct link to heading">#</a></h3><p>Used to trigger a <a href="#metals-server-commands">Metals server command</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="workspacedidchangeconfiguration"></a><code>workspace/didChangeConfiguration</code><a class="hash-link" href="#workspacedidchangeconfiguration" title="Direct link to heading">#</a></h3><p>Used to update <a href="#metals-user-configuration">Metals user configuration</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="windowlogmessage"></a><code>window/logMessage</code><a class="hash-link" href="#windowlogmessage" title="Direct link to heading">#</a></h3><p>Used to log non-critical and non-actionable information. The user is only
expected to use the logs for troubleshooting or finding metrics for how long
certain events take.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="windowshowmessage"></a><code>window/showMessage</code><a class="hash-link" href="#windowshowmessage" title="Direct link to heading">#</a></h3><p>Used to send critical but non-actionable notifications to the user. For
non-critical notifications, see <code>metals/status</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="windowshowmessagerequest"></a><code>window/showMessageRequest</code><a class="hash-link" href="#windowshowmessagerequest" title="Direct link to heading">#</a></h3><p>Used to send critical and actionable notifications to the user. To notify the
user about long running tasks that can be cancelled, the extension
<code>metals/slowTask</code> is used instead.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="metals-server-properties"></a>Metals server properties<a class="hash-link" href="#metals-server-properties" title="Direct link to heading">#</a></h2><p>There are various Metals server properties that can be configured through JVM
system properties. A system property is passed to the server like this:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI sh"><div tabindex="0" class="prism-code language-sh codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># with `java` binary</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">java -Dmetals.statistics=all ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># with `coursier bootstrap`</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">coursier bootstrap --java-opt -Dmetals.statistics=all ...</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Below are the available server properties:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="-dmetalsverbose"></a><code>-Dmetals.verbose</code><a class="hash-link" href="#-dmetalsverbose" title="Direct link to heading">#</a></h3><p>Possible values:</p><ul><li><code>off</code> (default): don&#x27;t log unnecessary details.</li><li><code>on</code>: emit very detailed logs, should only be used when debugging problems.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="-dmetalsstatistics"></a><code>-Dmetals.statistics</code><a class="hash-link" href="#-dmetalsstatistics" title="Direct link to heading">#</a></h3><p>By default, Metals logs only the most relevant metrics like time it takes to run
sbt and import a workspace. The enable further metrics, update this property
with a comma separated list of the following supported values:</p><ul><li><code>memory</code>: print memory usage of the navigation index after build import.</li><li><code>definition</code>: print total time to respond to <code>textDocument/definition</code>
requests.</li></ul><p>Set the value to <code>-Dmetals.statistics=all</code> to enable all statistics.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="-dmetalsh2auto-server"></a><code>-Dmetals.h2.auto-server</code><a class="hash-link" href="#-dmetalsh2auto-server" title="Direct link to heading">#</a></h3><p>Possible values:</p><ul><li><code>on</code> (default): use
<a href="http://www.h2database.com/html/features.html#auto_mixed_mode" target="_blank" rel="noopener noreferrer">H2 <code>AUTO_SERVER=TRUE</code> mode</a>
to support multiple concurrent Metals servers in the same workspace. If this
option is enabled, the Metals H2 database communicate to other concurrently
running Metals servers via TCP through a free port. In case of failure to
establish a <code>AUTO_SERVER=TRUE</code> connection, Metals falls back to
<code>AUTO_SERVER=FALSE</code>.</li><li><code>off</code>: do not use use <code>AUTO_SERVER=TRUE</code>. By disabling this option, it&#x27;s not
possible to run concurrent Metals servers in the same workspace directory. For
example, it&#x27;s not possible to have both VS Code and Vim installed with Metals
running in the same directory. In case there are multiple Metals servers
running in the same workspace directory, Metals falls back to using an
in-memory database resulting in a degraded user experience.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="-dmetalspcdebug"></a><code>-Dmetals.pc.debug</code><a class="hash-link" href="#-dmetalspcdebug" title="Direct link to heading">#</a></h3><p>Possible values:</p><ul><li><code>off</code> (default): do not log verbose debugging information for the presentation
compiler.</li><li><code>on</code>: log verbose debugging information for the presentation compiler.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="-dbloopsbtversion"></a><code>-Dbloop.sbt.version</code><a class="hash-link" href="#-dbloopsbtversion" title="Direct link to heading">#</a></h3><p>Version number of the sbt-bloop plugin to use for the &quot;Install build&quot; command.
Default value is <code>-Dbloop.sbt.version=1.4.11</code>.</p><p>The below properties are also available as user configuration options. It&#x27;s
preferable to set these there:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="-dmetalsbloop-port"></a><code>-Dmetals.bloop-port</code><a class="hash-link" href="#-dmetalsbloop-port" title="Direct link to heading">#</a></h3><p>Port number of the Bloop server to connect to. Should only be used if Bloop
server was setup in a custom way. Default value is <code>8212</code>.</p><p>Possible values are any allowed port number that the Bloop server is able to run
on.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="metals-user-configuration"></a>Metals user configuration<a class="hash-link" href="#metals-user-configuration" title="Direct link to heading">#</a></h2><p>Users can customize the Metals server through the LSP
<code>workspace/didChangeConfiguration</code> notification. Unlike server properties, it is
normal for regular Metals users to configure these options.</p><p>User configuration options can optionally be provided via server properties
using the <code>-Dmetals.</code> prefix. System properties may be helpful for editor
clients that don&#x27;t support <code>workspace/didChangeConfiguration</code>. In case user
configuration is defined both via system properties and
<code>workspace/didChangeConfiguration</code>, then <code>workspace/didChangeConfiguration</code>
takes precedence.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="java-home-directory"></a>Java Home directory<a class="hash-link" href="#java-home-directory" title="Direct link to heading">#</a></h3><p>The Java Home directory used for indexing JDK sources and locating the <code>java</code> binary.</p><p><strong>Default</strong>: <code>JAVA_HOME</code> environment variable with fallback to <code>user.home</code> system property.</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><div tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;javaHome&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_192.jdk/Contents/Home&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="sbt-script"></a>sbt script<a class="hash-link" href="#sbt-script" title="Direct link to heading">#</a></h3><p>Optional absolute path to an <code>sbt</code> executable to use for running <code>sbt bloopInstall</code>.
By default, Metals uses <code>java -jar sbt-launch.jar</code> with an embedded launcher while respecting
<code>.jvmopts</code> and <code>.sbtopts</code>. Update this setting if your <code>sbt</code> script requires more customizations
like using environment variables.</p><p><strong>Default</strong>: empty string <code>&quot;&quot;</code>.</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><div tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;sbtScript&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/usr/local/bin/sbt&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="gradle-script"></a>Gradle script<a class="hash-link" href="#gradle-script" title="Direct link to heading">#</a></h3><p>Optional absolute path to a <code>gradle</code> executable to use for running <code>gradle bloopInstall</code>.
By default, Metals uses gradlew with 5.3.1 gradle version. Update this setting if your <code>gradle</code> script requires more customizations
like using environment variables.</p><p><strong>Default</strong>: empty string <code>&quot;&quot;</code>.</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><div tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;gradleScript&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/usr/local/bin/gradle&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="maven-script"></a>Maven script<a class="hash-link" href="#maven-script" title="Direct link to heading">#</a></h3><p>Optional absolute path to a <code>maven</code> executable to use for generating bloop config.
By default, Metals uses mvnw maven wrapper with 3.6.1 maven version. Update this setting if your <code>maven</code> script requires more customizations</p><p><strong>Default</strong>: empty string <code>&quot;&quot;</code>.</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><div tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;mavenScript&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/usr/local/bin/mvn&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="mill-script"></a>Mill script<a class="hash-link" href="#mill-script" title="Direct link to heading">#</a></h3><p>Optional absolute path to a <code>mill</code> executable to use for running <code>mill mill.contrib.Bloop/install</code>.
By default, Metals uses mill wrapper script with 0.5.0 mill version. Update this setting if your <code>mill</code> script requires more customizations
like using environment variables.</p><p><strong>Default</strong>: empty string <code>&quot;&quot;</code>.</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><div tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;millScript&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/usr/local/bin/mill&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="scalafmt-config-path"></a>Scalafmt config path<a class="hash-link" href="#scalafmt-config-path" title="Direct link to heading">#</a></h3><p>Optional custom path to the .scalafmt.conf file.
Should be an absolute path and use forward slashes <code>/</code> for file separators (even on Windows).</p><p><strong>Default</strong>: empty string <code>&quot;&quot;</code>.</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><div tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;scalafmtConfigPath&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;project/.scalafmt.conf&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="scalafix-config-path"></a>Scalafix config path<a class="hash-link" href="#scalafix-config-path" title="Direct link to heading">#</a></h3><p>Optional custom path to the .scalafix.conf file.
Should be an absolute path and use forward slashes <code>/</code> for file separators (even on Windows).</p><p><strong>Default</strong>: empty string <code>&quot;&quot;</code>.</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><div tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;scalafixConfigPath&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;project/.scalafix.conf&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="ammonite-jvm-properties"></a>Ammonite JVM Properties<a class="hash-link" href="#ammonite-jvm-properties" title="Direct link to heading">#</a></h3><p>Optional list of JVM properties to pass along to the Ammonite server.
Each property needs to be a separate item.\n\nExample: <code>-Xmx1G</code> or <code>-Xms100M</code>&quot;</p><p><strong>Default</strong>: <code>[]</code>.</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><div tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;ammoniteJvmProperties&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;-Xmx1G&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="excluded-packages"></a>Excluded Packages<a class="hash-link" href="#excluded-packages" title="Direct link to heading">#</a></h3><p>Packages that will be excluded from completions, imports, and symbol searches.</p><p>Note that this is in addition to some default packages that are already excluded.
The default excluded packages are listed below:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI js"><div tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token constant" style="color:rgb(130, 170, 255)">META</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token constant" style="color:rgb(130, 170, 255)">INF</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">images</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">toolbarButtonGraphics</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">jdk</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sun</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">oracle</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">java</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">awt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">desktop</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">org</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">jcp</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">org</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">omg</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">org</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">graalvm</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">com</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">oracle</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">com</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">sun</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">com</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">apple</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">apple</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>If there is a need to remove one of the defaults, you are able to do so by including the
package in your list and prepending <code>--</code> to it.</p><p>Example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI js"><div tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;--sun&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p><strong>Default</strong>: <code>[]</code>.</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><div tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;excludedPackages&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;akka.actor.typed.javadsl&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="dont-generate-bloop-plugin-file-for-sbt"></a>Don&#x27;t generate Bloop plugin file for sbt<a class="hash-link" href="#dont-generate-bloop-plugin-file-for-sbt" title="Direct link to heading">#</a></h3><p>If true, Metals will not generate <code>metals.sbt</code> files under the assumption that sbt-bloop is already manually installed in the sbt build. Build import will fail with a &#x27;not valid command bloopInstall&#x27; error in case Bloop is not manually installed in the build when using this option.</p><p><strong>Default</strong>: false</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><div tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;bloopSbtAlreadyInstalled&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="version-of-bloop"></a>Version of Bloop<a class="hash-link" href="#version-of-bloop" title="Direct link to heading">#</a></h3><p>This version will be used for the Bloop build tool plugin, for any supported build tool,
while importing in Metals as well as for running the embedded server</p><p><strong>Default</strong>: 1.4.11</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><div tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;bloopVersion&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;1.4.0-RC1&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="should-display-lenses-with-links-to-super-methods"></a>Should display lenses with links to super methods<a class="hash-link" href="#should-display-lenses-with-links-to-super-methods" title="Direct link to heading">#</a></h3><p>Super method lenses are visible above methods definition that override another methods. Clicking on a lens jumps to super method definition.
Disabled lenses are not calculated for opened documents which might speed up document processing.</p><p><strong>Default</strong>: false</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><div tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;superMethodLensesEnabled&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="should-display-type-annotations-for-inferred-types"></a>Should display type annotations for inferred types<a class="hash-link" href="#should-display-type-annotations-for-inferred-types" title="Direct link to heading">#</a></h3><p>When this option is enabled, each method that can have inferred types has them
displayed either as additional decorations if they are supported by the editor or
shown in the hover.</p><p><strong>Default</strong>: false</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><div tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;showInferredType&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="should-display-implicit-parameter-at-usage-sites"></a>Should display implicit parameter at usage sites<a class="hash-link" href="#should-display-implicit-parameter-at-usage-sites" title="Direct link to heading">#</a></h3><p>When this option is enabled, each method that has implicit arguments has them
displayed either as additional decorations if they are supported by the editor or
shown in the hover.</p><p><strong>Default</strong>: false</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><div tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;showImplicitArguments&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="should-display-implicit-conversion-at-usage-sites"></a>Should display implicit conversion at usage sites<a class="hash-link" href="#should-display-implicit-conversion-at-usage-sites" title="Direct link to heading">#</a></h3><p>When this option is enabled, each place where an implicit method or class is used has it
displayed either as additional decorations if they are supported by the editor or
shown in the hover.</p><p><strong>Default</strong>: false</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><div tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;showImplicitConversionsAndClasses&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="should-try-adjust-indentation-on-range-formatting"></a>Should try adjust indentation on range formatting.<a class="hash-link" href="#should-try-adjust-indentation-on-range-formatting" title="Direct link to heading">#</a></h3><p>When this option is enabled, when user pastes any snippet into a Scala file, Metals
will try to adjust the indentation to that of the current cursor.</p><p><strong>Default</strong>: false</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><div tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;enableIndentOnPaste&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="remote-language-server"></a>Remote language server<a class="hash-link" href="#remote-language-server" title="Direct link to heading">#</a></h3><p>A URL pointing to an endpoint that implements a remote language server.</p><p>See <a href="https://scalameta.org/metals/docs/contributors/remote-language-server.html" target="_blank" rel="noopener noreferrer">https://scalameta.org/metals/docs/contributors/remote-language-server.html</a> for
documentation on remote language servers.</p><p><strong>Default</strong>: empty string <code>&quot;&quot;</code>.</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><div tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;remoteLanguageServer&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https://language-server.company.com/message&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="default-fallback-scala-version"></a>Default fallback Scala version<a class="hash-link" href="#default-fallback-scala-version" title="Direct link to heading">#</a></h3><p>The Scala compiler version that is used as the default or fallback in case a file
doesn&#x27;t belong to any build target or the specified Scala version isn&#x27;t supported by Metals.
This applies to standalone Scala files, worksheets, and Ammonite scripts.</p><p><strong>Default</strong>: 2.12.15</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><div tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;fallbackScalaVersion&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2.12</span><span class="token plain">.</span><span class="token number" style="color:rgb(247, 140, 108)">15</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="metals-server-commands"></a>Metals server commands<a class="hash-link" href="#metals-server-commands" title="Direct link to heading">#</a></h2><p>The client can trigger one of the following commands through the
<code>workspace/executeCommand</code> request.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="analyze-stacktrace"></a>Analyze stacktrace<a class="hash-link" href="#analyze-stacktrace" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;analyze-stacktrace&quot;</code></p><p><strong>Arguments</strong>: [string], where the string is a stacktrace.</p><p>Converts provided stacktrace in the parameter to a format that contains links
to locations of places where the exception was raised.</p><p>If the configuration parameter of the client <code>isCommandInHtmlSupported</code> is true
then client is requested to display html with links
already pointing to proper locations in user codebase.
Otherwise client will display simple scala file
but with code lenses that direct user to proper location in codebase.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="switch-build-server"></a>Switch build server<a class="hash-link" href="#switch-build-server" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;bsp-switch&quot;</code></p><p><strong>Arguments</strong>: <code>null</code></p><p>Prompt the user to select a new build server to connect to.</p><p>This command does nothing in case there are less than two installed build
servers on the computer. In case the user has multiple BSP servers installed
then Metals will prompt the user to select which server to use.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="connect-to-build-server"></a>Connect to build server<a class="hash-link" href="#connect-to-build-server" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;build-connect&quot;</code></p><p><strong>Arguments</strong>: <code>null</code></p><p>Establish a new connection to the build server and reindex the workspace.</p><p>This command can be helpful in scenarios when Metals feels unresponsive, for example
when reopening Metals after the computer it has been sleeping.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="cancel-compilation"></a>Cancel compilation<a class="hash-link" href="#cancel-compilation" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;compile-cancel&quot;</code></p><p><strong>Arguments</strong>: <code>null</code></p><p>Cancel the currently ongoing compilation, if any.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="cascade-compile"></a>Cascade compile<a class="hash-link" href="#cascade-compile" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;compile-cascade&quot;</code></p><p><strong>Arguments</strong>: <code>null</code></p><p>Compile the current open files along with all build targets in this workspace that depend on those files.</p><p>By default, Metals compiles only the current build target and its dependencies when saving a file.
Run the cascade compile task to additionally compile the inverse dependencies of the current build target.
For example, if you change the API in main sources and run cascade compile then it will also compile the
test sources that depend on main.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="clean-compile-workspace"></a>Clean compile workspace<a class="hash-link" href="#clean-compile-workspace" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;compile-clean&quot;</code></p><p><strong>Arguments</strong>: <code>null</code></p><p>Recompile all build targets in this workspace.</p><p>By default, Metals compiles the files incrementally. In case of any compile artifacts corruption
this command might be run to make sure everything is recompiled correctly.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="copy-worksheet-output"></a>Copy Worksheet Output<a class="hash-link" href="#copy-worksheet-output" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;copy-worksheet-output&quot;</code></p><p><strong>Arguments</strong>: [uri], the uri of the worksheet that you&#x27;d like to copy the contents of.</p><p>Copy the contents of a worksheet to your local buffer.</p><p>Note: This command returns the contents of the worksheet, and the LSP client
is in charge of taking that content and putting it into your local buffer.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="extract-member-definition"></a>Extract member definition<a class="hash-link" href="#extract-member-definition" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;extract-member-definition&quot;</code></p><p><strong>Arguments</strong>: This command should be sent in with the LSP <a href="https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocumentPositionParams" target="_blank" rel="noopener noreferrer"><code>TextDocumentPositionParams</code></a></p><p>Whenever a user chooses a code action to extract a definition of a Class/Trait/Object/Enum this
command is later ran to extract the code and create a new file with it</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="generate-bsp-config"></a>Generate BSP Config<a class="hash-link" href="#generate-bsp-config" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;generate-bsp-config&quot;</code></p><p><strong>Arguments</strong>: [string], name of the build server.</p><p>Checks to see if your build tool can serve as a BSP server. If so, generate
the necessary BSP config to connect to the server. If there is more than one
build tool for a workspace, you can then choose the desired one and that
one will be used to generate the config.</p><p>After the config is generated, Metals will attempt to auto-connect to it.</p><p>The build servers that Metals knows how to detect and start:</p><ul><li>sbt</li><li>mill-bsp</li></ul><p>Note: while Metals does know how to start Bloop, Bloop will be started when you trigger a build
import or when you use <code>bsp-switch</code> to switch to Bloop.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="goto-location-for-position"></a>Goto location for position<a class="hash-link" href="#goto-location-for-position" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;goto-position&quot;</code></p><p><strong>Arguments</strong>: [location], where the location is a lsp location object.</p><p>Move the cursor to the location provided in arguments.
It simply forwards request to client.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="go-to-super-methodfield-definition"></a>Go to super method/field definition<a class="hash-link" href="#go-to-super-methodfield-definition" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;goto-super-method&quot;</code></p><p><strong>Arguments</strong>: This command should be sent in with the LSP <a href="https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocumentPositionParams" target="_blank" rel="noopener noreferrer"><code>TextDocumentPositionParams</code></a></p><p>Jumps to super method/field definition of a symbol under cursor according to inheritance rules.
When A {override def x()} &lt;:&lt; B &lt;:&lt; C {def x()} and on method &#x27;A.x&#x27; it will jump directly to &#x27;C.x&#x27;
as method x() is not overridden in B.
If symbol is a reference of a method it will jump to a definition.
If symbol under cursor is invalid or does not override anything then command is ignored.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="goto-location-for-symbol"></a>Goto location for symbol<a class="hash-link" href="#goto-location-for-symbol" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;goto&quot;</code></p><p><strong>Arguments</strong>: [string], where the string is a SemanticDB symbol.</p><p>Move the cursor to the definition of the argument symbol.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="import-build"></a>Import build<a class="hash-link" href="#import-build" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;build-import&quot;</code></p><p><strong>Arguments</strong>: <code>null</code></p><p>Import the latest changes from the build to for example pick up new library dependencies.</p><p>By default, Metals automatically prompts you to import the build when sources of the build change.
Use this command to manually trigger an import build instead of relying on the automatic prompt.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="insert-inferred-type-of-a-value"></a>Insert inferred type of a value<a class="hash-link" href="#insert-inferred-type-of-a-value" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;insert-inferred-type&quot;</code></p><p><strong>Arguments</strong>: This command should be sent in with the LSP <a href="https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocumentPositionParams" target="_blank" rel="noopener noreferrer"><code>TextDocumentPositionParams</code></a></p><p>Whenever a user chooses code action to insert the inferred type this command is later ran to
calculate the type and insert it in the correct location.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="create-new-scala-file"></a>Create new scala file<a class="hash-link" href="#create-new-scala-file" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;new-scala-file&quot;</code></p><p><strong>Arguments</strong>: [string[]], where the first is a directory location for the new file.
The second and third positions correspond to the file name and file type to allow for quick
creation of a file if all are present.</p><p>Create and open new file with either scala class, object, trait, package object or worksheet.</p><p>Note: requires &#x27;metals/inputBox&#x27; capability from language client.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="new-scala-project"></a>New Scala Project<a class="hash-link" href="#new-scala-project" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;new-scala-project&quot;</code></p><p><strong>Arguments</strong>: <code>null</code></p><p>Create a new Scala project using one of the available g8 templates.
This includes simple projects as well as samples for most of the popular Scala frameworks.
The command reuses the Metals quick pick extension to work and can function with <code>window/showMessageRequest</code>,
however the experience will not be optimal in that case. Some editors might also offer to open the newly created
project via <code>openNewWindowProvider</code>, but it is not necessary for the main functionality to work. </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="restart-presentation-compiler"></a>Restart presentation compiler<a class="hash-link" href="#restart-presentation-compiler" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;presentation-compiler-restart&quot;</code></p><p><strong>Arguments</strong>: <code>null</code></p><p>Restart running presentation compiler instances.</p><p>Metals automatically restarts the presentation compiler after every successful compilation
in the build tool so this command should not be needed for normal usage. Please report
an issue if you need to use this command.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="reset-choice-popup"></a>Reset Choice Popup<a class="hash-link" href="#reset-choice-popup" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;reset-choice&quot;</code></p><p><strong>Arguments</strong>: [string?], where string is a choice value.</p><p>ResetChoicePopup command allows you to reset a decision you made about different settings.
E.g. If you choose to import workspace with sbt you can decide to reset and change it again.</p><p>Provided string is optional but if present it must be one of defined in <code>PopupChoiceReset.scala</code>
If a choice is not provided it will execute interactive mode where user is prompt to select
which choice to reset.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="restart-build-server"></a>Restart build server<a class="hash-link" href="#restart-build-server" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;build-restart&quot;</code></p><p><strong>Arguments</strong>: <code>null</code></p><p>Unconditionally stop the current running Bloop server and start a new one using Bloop launcher</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="run-doctor"></a>Run doctor<a class="hash-link" href="#run-doctor" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;doctor-run&quot;</code></p><p><strong>Arguments</strong>: <code>null</code></p><p>Open the Metals doctor to troubleshoot potential problems with the build.</p><p>This command can be helpful in scenarios where features are not working as expected such
as compile errors are not appearing or completions are not correct.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="decode-file"></a>Decode file<a class="hash-link" href="#decode-file" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;file-decode&quot;</code></p><p><strong>Arguments</strong>: [uri], uri of the file with any parameters required for decoding.
Examples:</p><ul><li>javap:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">metalsDecode:file:///somePath/someFile.java.javap</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">metalsDecode:file:///somePath/someFile.scala.javap</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">metalsDecode:file:///somePath/someFile.class.javap</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">metalsDecode:file:///somePath/someFile.java.javap-verbose</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">metalsDecode:file:///somePath/someFile.scala.javap-verbose</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">metalsDecode:file:///somePath/someFile.class.javap-verbose</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></li><li>semanticdb:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">metalsDecode:file:///somePath/someFile.java.semanticdb-compact</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">metalsDecode:file:///somePath/someFile.java.semanticdb-detailed</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">metalsDecode:file:///somePath/someFile.scala.semanticdb-compact</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">metalsDecode:file:///somePath/someFile.scala.semanticdb-detailed</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">metalsDecode:file:///somePath/someFile.java.semanticdb.semanticdb-compact</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">metalsDecode:file:///somePath/someFile.java.semanticdb.semanticdb-detailed</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">metalsDecode:file:///somePath/someFile.scala.semanticdb.semanticdb-compact</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">metalsDecode:file:///somePath/someFile.scala.semanticdb.semanticdb-detailed</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></li><li>tasty:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">metalsDecode:file:///somePath/someFile.scala.tasty-decoded</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">metalsDecode:file:///somePath/someFile.tasty.tasty-decoded</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></li><li>jar:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> metalsDecode:jar:file:///somePath/someFile-sources.jar!/somePackage/someFile.java</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></li></ul><p>Response:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI ts"><div tabindex="0" class="prism-code language-ts codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:rgb(255, 203, 107)">DecoderResponse</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  requestedUri</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  value</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  error</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Decode a file into a human readable format.</p><p>Compilation involves various binary files that can&#x27;t be read directly
in a text editor so they need to be decoded into a human readable format.
Examples include <code>.class</code> and <code>.semanticdb</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="disconnect-to-build-server"></a>Disconnect to build server<a class="hash-link" href="#disconnect-to-build-server" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;build-disconnect&quot;</code></p><p><strong>Arguments</strong>: <code>null</code></p><p>Unconditionally cancel existing build server connection without reconnecting</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="scan-sources"></a>Scan sources<a class="hash-link" href="#scan-sources" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;sources-scan&quot;</code></p><p><strong>Arguments</strong>: <code>null</code></p><p>Walk all files in the workspace and index where symbols are defined.</p><p>Is automatically run once after <code>initialized</code> notification and incrementally
updated on file watching events. A language client that doesn&#x27;t support
file watching can run this manually instead. It should not be much slower
than walking the entire file tree and reading <code>*.scala</code> files to string,
indexing itself is cheap.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="start-ammonite-build-server"></a>Start Ammonite build server<a class="hash-link" href="#start-ammonite-build-server" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;ammonite-start&quot;</code></p><p><strong>Arguments</strong>: <code>null</code></p><p>Start Ammonite build server</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="start-debug-adapter"></a>Start debug adapter<a class="hash-link" href="#start-debug-adapter" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;debug-adapter-start&quot;</code></p><p><strong>Arguments</strong>: DebugSessionParameters object
Example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><div tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;targets&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;mybuild://workspace/foo/?id=foo&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   dataKind</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;scala-main-class&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   data</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      className</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;com.foo.App&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>or DebugUnresolvedMainClassParams object
Example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><div tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   mainClass</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;com.foo.App&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   buildTarget</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;foo&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   args</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;bar&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   jvmOptions</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;-Dfile.encoding=UTF-16&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   env</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token property">&quot;NUM&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;123&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   envFile</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;.env&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>or DebugUnresolvedTestClassParams object
Example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><div tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   testClass</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;com.foo.FooSuite&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   buildTarget</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;foo&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Start debug adapter</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="stop-ammonite-build-server"></a>Stop Ammonite build server<a class="hash-link" href="#stop-ammonite-build-server" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;ammonite-stop&quot;</code></p><p><strong>Arguments</strong>: <code>null</code></p><p>Stop Ammonite build server</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="go-to-super-methodfield-definition-in-hierarchy"></a>Go to super method/field definition in hierarchy<a class="hash-link" href="#go-to-super-methodfield-definition-in-hierarchy" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;super-method-hierarchy&quot;</code></p><p><strong>Arguments</strong>: This command should be sent in with the LSP <a href="https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocumentPositionParams" target="_blank" rel="noopener noreferrer"><code>TextDocumentPositionParams</code></a></p><p>When user executes this command it will calculate inheritance hierarchy of a class that contains given method.
Then it will filter out classes not overriding given method and a list using &#x27;metalsQuickPick&#x27; will be
displayed to which super method user would like to go to.
Command has no effect on other symbols than method definition.
QuickPick will show up only if more than one result is found.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="metals-client-commands"></a>Metals client commands<a class="hash-link" href="#metals-client-commands" title="Direct link to heading">#</a></h2><p>The Metals server can send one of the following client commands if the client
supports the <code>metals/executeClientCommand</code> notification,</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="open-a-specified-folder-either-in-the-same-or-new-window"></a>Open a specified folder either in the same or new window<a class="hash-link" href="#open-a-specified-folder-either-in-the-same-or-new-window" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;metals-open-folder&quot;</code></p><p><strong>Arguments</strong>: An object with <code>uri</code> and <code>newWindow</code> fields.
Example: </p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><div tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;uri&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;file://path/to/directory&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;newWindow&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Open a new window with the specified directory.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="run-doctor-1"></a>Run doctor<a class="hash-link" href="#run-doctor-1" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;metals-doctor-run&quot;</code></p><p><strong>Arguments</strong>: <code>string</code>, the HTML to display in the focused window.</p><p>Focus on a window displaying troubleshooting help from the Metals doctor.</p><p>If <code>doctorProvider</code> is set to <code>&quot;json&quot;</code> then the schema is as follows:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><div tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">export interface DoctorOutput </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** Metals Doctor title */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  title</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   * Contains decisions that were made about what build tool or build server</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   * the user has chosen. There is also other brief information about understanding</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   * the Doctor placed in here as well.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   headerText</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">    * If build targets are detected in your workspace, they will be listed here with</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">    * the status of related functionality of Metals for each build target.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">    */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   targets?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> DoctorBuildTarget</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** Messages given if build targets cannot be found */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   messages?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> DoctorRecommendation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><div tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">export interface DoctorBuildTarget </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** Name of the build target */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  buildTarget</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** Scala version of the build target */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  scalaVersion</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** Status of diagnostics */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  diagnostics</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** Status of goto definitions */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  gotoDefinition</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** Status of completions */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  completions</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** Status of find references */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  findReferences</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** Any recommendations in how to fix any issues that are found above */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  recommendation</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><div tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">export interface DoctorRecommendation </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** Title of the recommendation */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  title</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** Recommendations related to the found issue. */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  recommendations</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="reload-doctor"></a>Reload doctor<a class="hash-link" href="#reload-doctor" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;metals-doctor-reload&quot;</code></p><p><strong>Arguments</strong>: <code>string</code>, the HTML to display in the focused window.</p><p>Reload the HTML contents of an open Doctor window, if any. Should be ignored if there is no open doctor window.
If <code>doctorProvider</code> is set to <code>&quot;json&quot;</code>, then the schema is the same as found above in <code>&quot;metals-run-doctor&quot;</code></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="toggle-logs"></a>Toggle logs<a class="hash-link" href="#toggle-logs" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;metals-logs-toggle&quot;</code></p><p><strong>Arguments</strong>: <code>null</code></p><p>Focus or remove focus on the output logs reported by the server via <code>window/logMessage</code>.</p><p>In VS Code, this opens the &quot;output&quot; channel for the Metals extension.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="open-problems"></a>Open problems<a class="hash-link" href="#open-problems" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;metals-diagnostics-focus&quot;</code></p><p><strong>Arguments</strong>: <code>null</code></p><p>Focus on the window that lists all published diagnostics.</p><p>In VS Code, this opens the &quot;problems&quot; window.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="goto-location"></a>Goto location<a class="hash-link" href="#goto-location" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;metals-goto-location&quot;</code></p><p><strong>Arguments</strong>: First required parameter is LSP <code>Location</code> object with <code>uri</code> and <code>range</code> fields.
Second parameter is optional and has signature <code>otherWindow: Boolean</code>.
It gives a hint to client that if possible it would be good to open location in
another buffer/window.
Example: </p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><div tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;uri&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;file://path/to/Definition.scala&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;range&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;start&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token property">&quot;line&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">194</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token property">&quot;character&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;end&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">   </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token property">&quot;line&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">194</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token property">&quot;character&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Move the cursor focus to the provided location</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="echo-command"></a>Echo command<a class="hash-link" href="#echo-command" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;metals-echo-command&quot;</code></p><p><strong>Arguments</strong>: <code>string</code>, the command ID to execute on the client.</p><p>A client command that should be forwarded back to the Metals server.</p><p>Metals may register commands in client UIs like tree view nodes that should be
forwarded back to the Metals server if the client clicks on the UI elements.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="refresh-model"></a>Refresh model<a class="hash-link" href="#refresh-model" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;metals-model-refresh&quot;</code></p><p><strong>Arguments</strong>: <code>null</code></p><p>Notifies the client that the model has been updated and it
should be refreshed (e.g. by resending code lens request)</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="show-the-stacktrace-in-the-client"></a>Show the stacktrace in the client.<a class="hash-link" href="#show-the-stacktrace-in-the-client" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;metals-show-stacktrace&quot;</code></p><p><strong>Arguments</strong>: [string], the markdown representation of the stacktrace</p><p>Show the stacktrace modified with links to specific files.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="copy-worksheet-output-1"></a>Copy Worksheet Output<a class="hash-link" href="#copy-worksheet-output-1" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;metals.copy-worksheet-output&quot;</code></p><p><strong>Arguments</strong>: [uri], the uri of the worksheet that you&#x27;d like to copy the contents of.</p><p>Copy the contents of a worksheet to your local buffer.</p><p>Note: This command should execute the copy-worksheet-output
server command to get the output to copy into the buffer.</p><p>Server will attempt to create code lens with this command if <code>copyWorksheetOutputProvider</code> option is set.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="start-run-session"></a>Start run session<a class="hash-link" href="#start-run-session" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;metals-run-session-start&quot;</code></p><p><strong>Arguments</strong>: DebugSessionParameters object. It should be forwarded
to the debug-adapter-start command as is.</p><p>Example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><div tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;targets&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;mybuild://workspace/foo/?id=foo&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   dataKind</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;scala-main-class&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   data</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      className</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;com.foo.App&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Starts a run session. The address of a new Debug Adapter can be obtained
by using the debug-adapter-start metals server command
with the same arguments as provided to this command.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="start-debug-session"></a>Start debug session<a class="hash-link" href="#start-debug-session" title="Direct link to heading">#</a></h3><p><strong>Command</strong>: <code>&quot;metals-debug-session-start&quot;</code></p><p><strong>Arguments</strong>: DebugSessionParameters object. It should be forwarded
to the debug-adapter-start command as is.</p><p>Example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><div tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;targets&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;mybuild://workspace/foo/?id=foo&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   dataKind</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;scala-main-class&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   data</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      className</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;com.foo.App&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Starts a debug session. The address of a new Debug Adapter can be obtained
by using the debug-adapter-start metals server command
with the same arguments as provided to this command.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="metals-http-client"></a>Metals HTTP client<a class="hash-link" href="#metals-http-client" title="Direct link to heading">#</a></h2><p>Metals has an optional web interface that can be used to trigger server commands
and respond to server requests. This interface is not intended for regular
users, it exists only to help editor plugin authors integrate with Metals.</p><p><img src="https://i.imgur.com/t5RJ3q6.png" alt="Metals http client"></p><p>The server is enabled by passing the <code>-Dmetals.http=on</code> system property. The
server runs by default at <a href="http://localhost:5031/" target="_blank" rel="noopener noreferrer"><code>http://localhost:5031</code></a>.
When the port 5031 is taken the next free increment is chosen instead (5032,
5033, ...).</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="metals-lsp-extensions"></a>Metals LSP extensions<a class="hash-link" href="#metals-lsp-extensions" title="Direct link to heading">#</a></h2><p>Editor clients can opt into receiving Metals-specific JSON-RPC requests and
notifications. Metals extensions are not defined in LSP and are not strictly
required for the Metals server to function but it is recommended to implement
them to improve the user experience.</p><p>To enable Metals extensions, start the main process with the system property
<code>-Dmetals.extensions=true</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="debug-adapter-protocol"></a>Debug Adapter Protocol<a class="hash-link" href="#debug-adapter-protocol" title="Direct link to heading">#</a></h3><p>Metals implements and additional protocol for running and debugging inside the
editor, see the
<a href="/metals/docs/integrations/debug-adapter-protocol">Debug Adapter Protocol</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="tree-view-protocol"></a>Tree View Protocol<a class="hash-link" href="#tree-view-protocol" title="Direct link to heading">#</a></h3><p>Metals implements several custom JSON-RPC endpoints related to rendering tree
views in the editor client, the
<a href="/metals/docs/integrations/tree-view-protocol">Tree View Protocol</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="decoration-protocol"></a>Decoration Protocol<a class="hash-link" href="#decoration-protocol" title="Direct link to heading">#</a></h3><p>Metals implements an LSP extension to display non-editable text in the editor,
see the <a href="/metals/docs/integrations/decoration-protocol">Decoration Protocol</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="metalsslowtask"></a><code>metals/slowTask</code><a class="hash-link" href="#metalsslowtask" title="Direct link to heading">#</a></h3><p>The Metals slow task request is sent from the server to the client to notify the
start of a long running process with unknown estimated total time. A
<code>cancel: true</code> response from the client cancels the task. A <code>$/cancelRequest</code>
request from the server indicates that the task has completed.</p><p><img src="https://i.imgur.com/nsjWHWR.gif" alt="Metals slow task"></p><p>The difference between <code>metals/slowTask</code> and <code>window/showMessageRequest</code> is that
<code>slowTask</code> is time-sensitive and the interface should display a timer for how
long the task has been running while <code>showMessageRequest</code> is static.</p><p><em>Request</em>:</p><ul><li>method: <code>metals/slowTask</code></li><li>params: <code>MetalsSlowTaskParams</code> defined as follows:</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI ts"><div tabindex="0" class="prism-code language-ts codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:rgb(255, 203, 107)">MetalsSlowTaskParams</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** The name of this slow task */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  message</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   * If true, the log output from this task does not need to be displayed to the user.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   *</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   * In VS Code, the Metals &quot;Output channel&quot; is not toggled when this flag is true.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  quietLogs</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** Time that has elapsed since the begging of the task. */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  secondsElapsed</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p><em>Response</em>:</p><ul><li>result: <code>MetalsSlowTaskResponse</code> defined as follows</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI ts"><div tabindex="0" class="prism-code language-ts codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:rgb(255, 203, 107)">MetalsSlowTaskResult</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   * If true, cancel the running task.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   * If false, the user dismissed the dialogue but want to</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   * continue running the task.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  cancel</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="metalsstatus"></a><code>metals/status</code><a class="hash-link" href="#metalsstatus" title="Direct link to heading">#</a></h3><p>The Metals status notification is sent from the server to the client to notify
about non-critical and non-actionable events that are happening in the server.
Metals status notifications are a complement to <code>window/showMessage</code> and
<code>window/logMessage</code>. Unlike <code>window/logMessage</code>, status notifications should
always be visible in the user interface. Unlike <code>window/showMessage</code>, status
notifications are not critical meaning that they should not demand too much
attention from the user.</p><p>In general, Metals uses status notifications to update the user about ongoing
events in the server such as batch compilation in the build server or when a
successful connection was established with the build server.</p><p><img src="https://i.imgur.com/XX9CLRH.gif" alt="Metals status bar"></p><p>The &quot;üöÄ Imported build&quot; and &quot;üîÑ Compiling explorer&quot; messages at the bottom of
the window are <code>metals/status</code> notifications.</p><p><em>Notification</em>:</p><ul><li>method: <code>metals/status</code></li><li>params: <code>MetalsStatusParams</code> defined as follows:</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI ts"><div tabindex="0" class="prism-code language-ts codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:rgb(255, 203, 107)">MetalsStatusParams</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** The text to display in the status bar. */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  text</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** If true, show the status bar. */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  show</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** If true, hide the status bar. */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  hide</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** If set, display this message when user hovers over the status bar. */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  tooltip</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** If set, execute this command when the user clicks on the status bar item. */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  command</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="metalsdidfocustextdocument"></a><code>metals/didFocusTextDocument</code><a class="hash-link" href="#metalsdidfocustextdocument" title="Direct link to heading">#</a></h3><p>The Metals did focus notification is sent from the client to the server when the
editor changes focus to a new text document. Unlike <code>textDocument/didOpen</code>, the
did focus notification is sent even when the text document is already open.</p><p><img src="https://i.imgur.com/XjTtAZK.gif" alt="Metals did focus"></p><p>Observe that the compilation error appears as soon as <code>UserTest.scala</code> is
focused even if the text document was already open before. The LSP
<code>textDocument/didOpen</code> notification is only sent the first time a document so it
is not possible for the language server to re-trigger compilation when moves
focus back to <code>UserTest.scala</code> that depends on APIs defined in <code>User.scala</code>.</p><p><em>Notification</em>:</p><ul><li>method: <code>metals/didFocusTextDocument</code></li><li>params: <code>string</code>, the URI of the document where the focused was moved to.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="metalsexecuteclientcommand"></a><code>metals/executeClientCommand</code><a class="hash-link" href="#metalsexecuteclientcommand" title="Direct link to heading">#</a></h3><p>The Metals execute client command is sent from the server to the client to
trigger an action inside the editor. This notification is a copy of the
<code>workspace/executeCommand</code> except</p><ul><li>execute client command is a notification, not a request</li><li>execute client command is initiated from the server, not the client</li></ul><p>See <a href="https://scalameta.org/metals/docs/integrations/new-editor#metals-client-commands" target="_blank" rel="noopener noreferrer">Metals client
commands</a>
for the list of supported client commands.</p><p><em>Notification</em>:</p><ul><li>method: <code>metals/executeClientCommand</code></li><li>params: <code>ExecuteCommandParams</code>, as defined in LSP.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="metalsinputbox"></a><code>metals/inputBox</code><a class="hash-link" href="#metalsinputbox" title="Direct link to heading">#</a></h3><p>The Metals input box request is sent from the server to the client to let the
user provide a string value for a given prompt. Unlike
<code>window/showMessageRequest</code>, the <code>metals/inputBox</code> request allows the user to
provide a custom response instead of picking a pre-selected value.</p><p><em>Request</em>:</p><ul><li>method: <code>metals/inputBox</code></li><li>params: <code>MetalsInputBoxParams</code> defined as follows. Note, matches
<a href="https://code.visualstudio.com/api/references/vscode-api#InputBoxOptions" target="_blank" rel="noopener noreferrer"><code>InputBoxOptions</code></a>
in the Visual Studio Code API:</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI ts"><div tabindex="0" class="prism-code language-ts codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:rgb(255, 203, 107)">MetalsInputBoxParams</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   * The value to prefill in the input box.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  value</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   * The text to display underneath the input box.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  prompt</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   * An optional string to show as place holder in the input box to guide the user what to type.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  placeHolder</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   * Set to `true` to show a password prompt that will not show the typed value.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  password</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   * Set to `true` to keep the input box open when focus moves to another part of the editor or to another window.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ignoreFocusOut</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><ul><li>result: <code>MetalsInputBoxResult</code> defined as follows:</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI ts"><div tabindex="0" class="prism-code language-ts codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:rgb(255, 203, 107)">MetalsInputBoxResult</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  value</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  cancelled</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="metalsquickpick"></a><code>metals/quickPick</code><a class="hash-link" href="#metalsquickpick" title="Direct link to heading">#</a></h3><p>The Metals quick pick request is sent from the server to the client to let the
user provide a string value by picking one out of a number of given options. It
is similar to <code>window/showMessageRequest</code>, but the <code>metals/quickPick</code> request
has richer parameters, that can be used to filter items to pick, like
<code>description</code> and <code>detail</code>.</p><p><em>Request</em>:</p><ul><li>method: <code>metals/quickPick</code></li><li>params: <code>MetalsQuickInputParams</code> defined as follows. It partially matches
<a href="https://code.visualstudio.com/api/references/vscode-api#QuickPickOptions" target="_blank" rel="noopener noreferrer"><code>QuickPickOptions</code></a>
in the Visual Studio Code API, but it also contains <code>items</code> of
<a href="https://code.visualstudio.com/api/references/vscode-api#QuickPickItem" target="_blank" rel="noopener noreferrer"><code>MetalsQuickPickItem</code></a>,
which, in it&#x27;s turn, partially matches <code>QuickPickItem</code>, but these interfaces
do not contain options for picking many items:</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI ts"><div tabindex="0" class="prism-code language-ts codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:rgb(255, 203, 107)">MetalsQuickPickParams</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   * An array of items that can be selected from.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  items</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">MetalsQuickPickItem</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   * An optional flag to include the description when filtering the picks.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  matchOnDescription</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   * An optional flag to include the detail when filtering the picks.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  matchOnDetail</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   * An optional string to show as place holder in the input box to guide the user what to pick on.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  placeHolder</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   * Set to `true` to keep the picker open when focus moves to another part of the editor or to another window.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ignoreFocusOut</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:rgb(255, 203, 107)">MetalsQuickPickItem</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   * An id for this items that should be return as a result of the picking.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  id</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   * A human readable string which is rendered prominent.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  label</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   * A human readable string which is rendered less prominent.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  description</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   * A human readable string which is rendered less prominent.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  detail</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   * Always show this item.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  alwaysShow</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><ul><li>result: <code>MetalsQuickPickResult</code> defined as follows:</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI ts"><div tabindex="0" class="prism-code language-ts codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:rgb(255, 203, 107)">MetalsQuickPickResult</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  itemId</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  cancelled</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="metalswindowstatedidchange"></a><code>metals/windowStateDidChange</code><a class="hash-link" href="#metalswindowstatedidchange" title="Direct link to heading">#</a></h3><p>The <code>metals/windowStateDidChange</code> notification is sent from the client to the
server to indicate whether the editor application window is focused or not. When
the editor window is not focused, Metals tries to avoid triggering expensive
computation in the background such as compilation.</p><p><em>Notification</em>:</p><ul><li>method: <code>metals/windowStateDidChange</code></li><li>params: <code>WindowStateDidChangeParams</code> defined as follows:</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI ts"><div tabindex="0" class="prism-code language-ts codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:rgb(255, 203, 107)">WindowStateDidChangeParams</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** If true, the editor application window is focused. False, otherwise. */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  focused</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="metalsopenwindow"></a><code>metals/openWindow</code><a class="hash-link" href="#metalsopenwindow" title="Direct link to heading">#</a></h3><p>The <code>metals/openWindow</code> params are used with the New Scala Project
functionality. After the new project has been created, if the editor has the
ability to open the project in a new window then these params are used with the
the <code>metals-open-folder</code> command.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI ts"><div tabindex="0" class="prism-code language-ts codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:rgb(255, 203, 107)">MetalsOpenWindowParams</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** Location of the newly created project. */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  uri</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** Whether or not to open the project in a new window. */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  openNewWindow</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="metalsfindtextindependencyjars"></a><code>metals/findTextInDependencyJars</code><a class="hash-link" href="#metalsfindtextindependencyjars" title="Direct link to heading">#</a></h3><p>The <code>FindTextInDependencyJars</code> request is sent from the client to the server to perform a search though files in the classpath
including binary and sources jars. In response it returns a standard list of <code>Location</code> from the <a href="https://microsoft.github.io/language-server-protocol/specification#location" target="_blank" rel="noopener noreferrer">LSP spec</a>.</p><p>In case if this enpoint was called with empty <code>query.pattern</code> or empty <code>options.include</code> server sends <a href="https://scalameta.org/metals/docs/integrations/new-editor#metalsinputbox" target="_blank" rel="noopener noreferrer"><code>metals/inputBox</code></a>
request to the client to obtain these values.</p><p><em>Request</em>:</p><ul><li>method: <code>metals/findTextInDependecyJars</code></li><li>params: <code>FindTextInDependencyJarsRequest</code> defined as follows.</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI ts"><div tabindex="0" class="prism-code language-ts codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"> * Currenly, only `pattern` field is used for search.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"> * See: https://github.com/scalameta/metals/issues/3234</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"> */</span><span class="token plain"> </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:rgb(255, 203, 107)">TextSearchQuery</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">         * The text pattern to search for.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">         */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    pattern</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">         * Whether or not `pattern` should be interpreted as a regular expression.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">         */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    isRegExp</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">         * Whether or not the search should be case-sensitive.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">         */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    isCaseSensitive</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">         * Whether or not to search for whole word matches only.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">         */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    isWordMatch</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:rgb(255, 203, 107)">FindTextInFilesOptions</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** Include file filter. Example: `*.conf` */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    include</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** Exclude file filter. Example: `*.conf` */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    exclude</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:rgb(255, 203, 107)">FindTextInDependencyJarsRequest</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    options</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">FindTextInFilesOptions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    query</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">TextSearchQuery</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p><em>Response</em>:</p><ul><li>result: <code>Location[]</code></li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/scalameta/metals/edit/main/docs/target/docs/integrations/new-editor.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/metals/docs/integrations/new-build-tool"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ Integrating a new build tool</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/metals/docs/integrations/tree-view-protocol"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Tree View Protocol ¬ª</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#requirements" class="table-of-contents__link">Requirements</a></li><li><a href="#starting-the-server" class="table-of-contents__link">Starting the server</a></li><li><a href="#configuring-the-server" class="table-of-contents__link">Configuring the server</a></li><li><a href="#language-server-protocol" class="table-of-contents__link">Language Server Protocol</a><ul><li><a href="#initialize" class="table-of-contents__link"><code>initialize</code></a></li><li><a href="#initialized" class="table-of-contents__link"><code>initialized</code></a></li><li><a href="#shutdown" class="table-of-contents__link"><code>shutdown</code></a></li><li><a href="#exit" class="table-of-contents__link"><code>exit</code></a></li><li><a href="#cancelrequest" class="table-of-contents__link"><code>$/cancelRequest</code></a></li><li><a href="#clientregistercapability" class="table-of-contents__link"><code>client/registerCapability</code></a></li><li><a href="#textdocumentdidopen" class="table-of-contents__link"><code>textDocument/didOpen</code></a></li><li><a href="#textdocumentdidchange" class="table-of-contents__link"><code>textDocument/didChange</code></a></li><li><a href="#textdocumentdidclose" class="table-of-contents__link"><code>textDocument/didClose</code></a></li><li><a href="#textdocumentdidsave" class="table-of-contents__link"><code>textDocument/didSave</code></a></li><li><a href="#textdocumentpublishdiagnostics" class="table-of-contents__link"><code>textDocument/publishDiagnostics</code></a></li><li><a href="#textdocumentdefinition" class="table-of-contents__link"><code>textDocument/definition</code></a></li><li><a href="#textdocumentreferences" class="table-of-contents__link"><code>textDocument/references</code></a></li><li><a href="#textdocumentdocumentsymbol" class="table-of-contents__link"><code>textDocument/documentSymbol</code></a></li><li><a href="#textdocumentformatting" class="table-of-contents__link"><code>textDocument/formatting</code></a></li><li><a href="#textdocumenthover" class="table-of-contents__link"><code>textDocument/hover</code></a></li><li><a href="#workspacedidchangewatchedfiles" class="table-of-contents__link"><code>workspace/didChangeWatchedFiles</code></a></li><li><a href="#workspaceexecutecommands" class="table-of-contents__link"><code>workspace/executeCommands</code></a></li><li><a href="#workspacedidchangeconfiguration" class="table-of-contents__link"><code>workspace/didChangeConfiguration</code></a></li><li><a href="#windowlogmessage" class="table-of-contents__link"><code>window/logMessage</code></a></li><li><a href="#windowshowmessage" class="table-of-contents__link"><code>window/showMessage</code></a></li><li><a href="#windowshowmessagerequest" class="table-of-contents__link"><code>window/showMessageRequest</code></a></li></ul></li><li><a href="#metals-server-properties" class="table-of-contents__link">Metals server properties</a><ul><li><a href="#-dmetalsverbose" class="table-of-contents__link"><code>-Dmetals.verbose</code></a></li><li><a href="#-dmetalsstatistics" class="table-of-contents__link"><code>-Dmetals.statistics</code></a></li><li><a href="#-dmetalsh2auto-server" class="table-of-contents__link"><code>-Dmetals.h2.auto-server</code></a></li><li><a href="#-dmetalspcdebug" class="table-of-contents__link"><code>-Dmetals.pc.debug</code></a></li><li><a href="#-dbloopsbtversion" class="table-of-contents__link"><code>-Dbloop.sbt.version</code></a></li><li><a href="#-dmetalsbloop-port" class="table-of-contents__link"><code>-Dmetals.bloop-port</code></a></li></ul></li><li><a href="#metals-user-configuration" class="table-of-contents__link">Metals user configuration</a><ul><li><a href="#java-home-directory" class="table-of-contents__link">Java Home directory</a></li><li><a href="#sbt-script" class="table-of-contents__link">sbt script</a></li><li><a href="#gradle-script" class="table-of-contents__link">Gradle script</a></li><li><a href="#maven-script" class="table-of-contents__link">Maven script</a></li><li><a href="#mill-script" class="table-of-contents__link">Mill script</a></li><li><a href="#scalafmt-config-path" class="table-of-contents__link">Scalafmt config path</a></li><li><a href="#scalafix-config-path" class="table-of-contents__link">Scalafix config path</a></li><li><a href="#ammonite-jvm-properties" class="table-of-contents__link">Ammonite JVM Properties</a></li><li><a href="#excluded-packages" class="table-of-contents__link">Excluded Packages</a></li><li><a href="#dont-generate-bloop-plugin-file-for-sbt" class="table-of-contents__link">Don&#39;t generate Bloop plugin file for sbt</a></li><li><a href="#version-of-bloop" class="table-of-contents__link">Version of Bloop</a></li><li><a href="#should-display-lenses-with-links-to-super-methods" class="table-of-contents__link">Should display lenses with links to super methods</a></li><li><a href="#should-display-type-annotations-for-inferred-types" class="table-of-contents__link">Should display type annotations for inferred types</a></li><li><a href="#should-display-implicit-parameter-at-usage-sites" class="table-of-contents__link">Should display implicit parameter at usage sites</a></li><li><a href="#should-display-implicit-conversion-at-usage-sites" class="table-of-contents__link">Should display implicit conversion at usage sites</a></li><li><a href="#should-try-adjust-indentation-on-range-formatting" class="table-of-contents__link">Should try adjust indentation on range formatting.</a></li><li><a href="#remote-language-server" class="table-of-contents__link">Remote language server</a></li><li><a href="#default-fallback-scala-version" class="table-of-contents__link">Default fallback Scala version</a></li></ul></li><li><a href="#metals-server-commands" class="table-of-contents__link">Metals server commands</a><ul><li><a href="#analyze-stacktrace" class="table-of-contents__link">Analyze stacktrace</a></li><li><a href="#switch-build-server" class="table-of-contents__link">Switch build server</a></li><li><a href="#connect-to-build-server" class="table-of-contents__link">Connect to build server</a></li><li><a href="#cancel-compilation" class="table-of-contents__link">Cancel compilation</a></li><li><a href="#cascade-compile" class="table-of-contents__link">Cascade compile</a></li><li><a href="#clean-compile-workspace" class="table-of-contents__link">Clean compile workspace</a></li><li><a href="#copy-worksheet-output" class="table-of-contents__link">Copy Worksheet Output</a></li><li><a href="#extract-member-definition" class="table-of-contents__link">Extract member definition</a></li><li><a href="#generate-bsp-config" class="table-of-contents__link">Generate BSP Config</a></li><li><a href="#goto-location-for-position" class="table-of-contents__link">Goto location for position</a></li><li><a href="#go-to-super-methodfield-definition" class="table-of-contents__link">Go to super method/field definition</a></li><li><a href="#goto-location-for-symbol" class="table-of-contents__link">Goto location for symbol</a></li><li><a href="#import-build" class="table-of-contents__link">Import build</a></li><li><a href="#insert-inferred-type-of-a-value" class="table-of-contents__link">Insert inferred type of a value</a></li><li><a href="#create-new-scala-file" class="table-of-contents__link">Create new scala file</a></li><li><a href="#new-scala-project" class="table-of-contents__link">New Scala Project</a></li><li><a href="#restart-presentation-compiler" class="table-of-contents__link">Restart presentation compiler</a></li><li><a href="#reset-choice-popup" class="table-of-contents__link">Reset Choice Popup</a></li><li><a href="#restart-build-server" class="table-of-contents__link">Restart build server</a></li><li><a href="#run-doctor" class="table-of-contents__link">Run doctor</a></li><li><a href="#decode-file" class="table-of-contents__link">Decode file</a></li><li><a href="#disconnect-to-build-server" class="table-of-contents__link">Disconnect to build server</a></li><li><a href="#scan-sources" class="table-of-contents__link">Scan sources</a></li><li><a href="#start-ammonite-build-server" class="table-of-contents__link">Start Ammonite build server</a></li><li><a href="#start-debug-adapter" class="table-of-contents__link">Start debug adapter</a></li><li><a href="#stop-ammonite-build-server" class="table-of-contents__link">Stop Ammonite build server</a></li><li><a href="#go-to-super-methodfield-definition-in-hierarchy" class="table-of-contents__link">Go to super method/field definition in hierarchy</a></li></ul></li><li><a href="#metals-client-commands" class="table-of-contents__link">Metals client commands</a><ul><li><a href="#open-a-specified-folder-either-in-the-same-or-new-window" class="table-of-contents__link">Open a specified folder either in the same or new window</a></li><li><a href="#run-doctor-1" class="table-of-contents__link">Run doctor</a></li><li><a href="#reload-doctor" class="table-of-contents__link">Reload doctor</a></li><li><a href="#toggle-logs" class="table-of-contents__link">Toggle logs</a></li><li><a href="#open-problems" class="table-of-contents__link">Open problems</a></li><li><a href="#goto-location" class="table-of-contents__link">Goto location</a></li><li><a href="#echo-command" class="table-of-contents__link">Echo command</a></li><li><a href="#refresh-model" class="table-of-contents__link">Refresh model</a></li><li><a href="#show-the-stacktrace-in-the-client" class="table-of-contents__link">Show the stacktrace in the client.</a></li><li><a href="#copy-worksheet-output-1" class="table-of-contents__link">Copy Worksheet Output</a></li><li><a href="#start-run-session" class="table-of-contents__link">Start run session</a></li><li><a href="#start-debug-session" class="table-of-contents__link">Start debug session</a></li></ul></li><li><a href="#metals-http-client" class="table-of-contents__link">Metals HTTP client</a></li><li><a href="#metals-lsp-extensions" class="table-of-contents__link">Metals LSP extensions</a><ul><li><a href="#debug-adapter-protocol" class="table-of-contents__link">Debug Adapter Protocol</a></li><li><a href="#tree-view-protocol" class="table-of-contents__link">Tree View Protocol</a></li><li><a href="#decoration-protocol" class="table-of-contents__link">Decoration Protocol</a></li><li><a href="#metalsslowtask" class="table-of-contents__link"><code>metals/slowTask</code></a></li><li><a href="#metalsstatus" class="table-of-contents__link"><code>metals/status</code></a></li><li><a href="#metalsdidfocustextdocument" class="table-of-contents__link"><code>metals/didFocusTextDocument</code></a></li><li><a href="#metalsexecuteclientcommand" class="table-of-contents__link"><code>metals/executeClientCommand</code></a></li><li><a href="#metalsinputbox" class="table-of-contents__link"><code>metals/inputBox</code></a></li><li><a href="#metalsquickpick" class="table-of-contents__link"><code>metals/quickPick</code></a></li><li><a href="#metalswindowstatedidchange" class="table-of-contents__link"><code>metals/windowStateDidChange</code></a></li><li><a href="#metalsopenwindow" class="table-of-contents__link"><code>metals/openWindow</code></a></li><li><a href="#metalsfindtextindependencyjars" class="table-of-contents__link"><code>metals/findTextInDependencyJars</code></a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Overview</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/metals/docs/overview/editor-support">Overview</a></li><li class="footer__item"><a class="footer__link-item" href="/metals/docs/build-tools/overview">Build Tools</a></li><li class="footer__item"><a class="footer__link-item" href="/metals/docs/contributors/project-goals">Project Goals</a></li><li class="footer__item"><a class="footer__link-item" href="/metals/docs/contributors/getting-started">Contributing</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/scalameta/metals" target="_blank">
                      <img src="https://img.shields.io/github/stars/scalameta/metals.svg?color=%23087e8b&label=stars&logo=github&style=social">
                    </a></li><li class="footer__item"><a href="https://discord.gg/RFpSVth" target="_blank">
                      <img src="https://img.shields.io/discord/632642981228314653?logo=discord&style=social">
                    </a></li><li class="footer__item"><a href="https://gitter.im/scalameta/metals" target="_blank">
                      <img src="https://img.shields.io/gitter/room/scalameta/metals.svg?logo=gitter&style=social">
                    </a></li><li class="footer__item"><a href="https://twitter.com/scalameta" target="_blank">
                      <img src="https://img.shields.io/twitter/follow/scalameta.svg?logo=twitter&style=social">
                    </a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/metals/img/scalameta-logo.png" alt="" class="themedImage_TMUO themedImage--light_4Vu1 footer__logo"><img src="/metals/img/scalameta-logo.png" alt="" class="themedImage_TMUO themedImage--dark_uzRr footer__logo"></div><div class="footer__copyright">Copyright ¬© 2021 Metals</div></div></div></footer></div>
<script src="/metals/assets/js/runtime~main.92fbb49b.js"></script>
<script src="/metals/assets/js/main.eb025133.js"></script>
</body>
</html>